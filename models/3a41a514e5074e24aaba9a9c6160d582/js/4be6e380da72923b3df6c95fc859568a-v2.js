(self.webpackChunksketchfab=self.webpackChunksketchfab||[]).push([[9809],{Kjxj:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var o=n("L0SH"),a=n("Hjnd"),i=n.n(a),r=n("k46e"),s=n("eKF4");const l={name:"DragAndDrop",dependencies:["WithOptionTypes"],_dragAndDropEnabled:!1,initializeDragAndDrop:function(e){var t="boolean"==typeof this.options.dragAndDrop?{enabled:this.options.dragAndDrop}:this.options.dragAndDrop||{};this.options.dragAndDrop=(0,r.Z)({},t,e),this._dragAndDropEnabled=void 0===this.options.dragAndDrop.enabled||this.options.dragAndDrop.enabled,this.onDragEnter=this.onDragEnter.bind(this),this.onDragOver=this.onDragOver.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.onDrop=this.onDrop.bind(this),this.onDragLeave=this.onDragLeave.bind(this),this._dragAndDropInitialized=!0,this.delegateDragAndDrop()},getDragAndDropEnabled:function(){return this._dragAndDropEnabled},setDragAndDropElements:function(){this.setDragAndDropTargetElement(),this.setDragAndDropDropboxElement()},setDragAndDropTargetElement:function(){this.options.dragAndDrop.target?"object"===(0,o.Z)(this.options.dragAndDrop.target)||this.options.dragAndDrop.external?this._$dragAndDropTarget=i()(this.options.dragAndDrop.target):this.options.dragAndDrop.external||(this._$dragAndDropTarget=this.$(this.options.dragAndDrop.target)):this._$dragAndDropTarget=this.$el},getDragAndDropTarget:function(){return this._$dragAndDropTarget},getDragAndDropDropbox:function(){return this._$dropbox},setDragAndDropDropboxElement:function(){if(this.options.dragAndDrop.dropbox){var e=this.options.dragAndDrop.dropbox,t=(0,o.Z)(e);this._$dropbox="string"===t?this.$(e):"function"===t?i()(e.call(this)):i()(e)}else this._$dropbox=this._$dragAndDropTarget},delegateDragAndDrop:function(){this._dragAndDropInitialized&&(this.setDragAndDropElements(),this._$dragAndDropTarget&&s.Z.me().isAuthenticated()&&this.getDragAndDropEnabled()&&(this._$dragAndDropTarget.on("dragenter",this.onDragEnter),this._$dragAndDropTarget.on("dragover",this.onDragOver),this._$dragAndDropTarget.on("drop",this.onDrop),this._$dragAndDropTarget.on("dragend",this.onDragEnd),this._$dragAndDropTarget.on("dragleave",this.onDragLeave)))},undelegateDragAndDrop:function(){this._$dragAndDropTarget&&(this._$dragAndDropTarget.off("dragenter",this.onDragEnter),this._$dragAndDropTarget.off("dragover",this.onDragOver),this._$dragAndDropTarget.off("drop",this.onDrop),this._$dragAndDropTarget.off("dragend",this.onDragEnd),this._$dragAndDropTarget.off("dragleave",this.onDragLeave))},isNotDraggingFile:function(e){var t=(e.originalEvent?e.originalEvent:e).dataTransfer;return t&&t.types&&t.types.concat&&-1===t.types.indexOf("Files")},isDropPending:function(){return!1},onDragEnter:function(e){if(!this.isNotDraggingFile(e)&&!this.isDropPending()){e.preventDefault();var t=this.getDragAndDropDropbox();t.addClass("file-upload-drag"),e.target===t[0]&&t.addClass("accepting")}},onDragEnd:function(e){var t=this.getDragAndDropDropbox(),n=this.getDragAndDropTarget();e.target===t[0]&&t.removeClass("accepting"),e.target===n[0]&&t.removeClass("file-upload-drag"),e.preventDefault()},onDragOver:function(e){e.preventDefault()},onDragLeave:function(e){e.preventDefault(),this.onDragEnd(e)},onDrop:function(e){e.preventDefault();var t=(e=e.originalEvent?e.originalEvent:e).dataTransfer.files,n=this.getDragAndDropDropbox();n.removeClass("file-upload-drag accepting"),t&&t.length&&e.target===n[0]&&this.onFilesDrop(t)},onFilesDrop:function(e){console.info(e.length+" files were dropped on the following element : ",this._$dropbox," nothing has been done with them.")}}},ZGp8:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var o=n("KDlt"),a=n("g6dK");n("cANE");const i=a.Z.extend({template:function(){return o.Z.get("front/popups/missing-webgl",{buttons:this.options.buttons})}})},"8xE2":(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var o=n("sQwH"),a=n("qD8I"),i=n("CUcO"),r=n("8N4v"),s=n("Zfzx"),l=n("FUT3"),c=n("hayj"),d=n("xKIK"),u=n("3Z9q"),p=n("g/7r"),m=n("X40V");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return(0,l.Z)(this,n)}}var f=function(e){(0,s.Z)(n,e);var t=v(n);function n(){var e;(0,a.Z)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,d.Z)((0,r.Z)(e),"onClickIfSpacebar",(function(t){var n=t.keyCode||t.which;0!==n&&32!==n||e.onClick(t)})),(0,d.Z)((0,r.Z)(e),"onClick",(function(t){t.preventDefault(),e.props.disabled||e.props.onChange(!e.props.isChecked,t)})),e}return(0,i.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.isChecked,n=e.isIndeterminate,a=e.name,i=e.isTouched,r=e.error,s=e.disabled,l=void 0!==s&&s,c=e.label,d=void 0===c?"":c,v=e.className,f=void 0===v?"":v,g=e.children,Z=e.title;return(0,o.Z)(u.Fragment,{},void 0,(0,o.Z)("div",{onKeyDown:this.onClickIfSpacebar,onClick:this.onClick,className:"c-checkbox ".concat(f," ").concat(l?"--disabled":""," ").concat(n?"--indeterminate":""," ").concat(t?"--active":""),title:Z},void 0,(0,o.Z)("input",{id:a,className:"c-checkbox__input",type:"checkbox",name:a,checked:t,onChange:p.EI,disabled:l}),(0,o.Z)("div",{"data-selenium":"checkbox-".concat(a),className:"c-checkbox__actor"}),(0,o.Z)("label",{tabIndex:0,className:(0,m.AK)("c-checkbox__label",{"--disabled":l}),htmlFor:a},void 0,g||d)),i&&r?(0,o.Z)("label",{className:"form-error"},void 0,r):null)}}]),n}(u.Component)},"Dc+D":(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var o=n("D4hk"),a=n("sQwH"),i=n("3MRe"),r=n("3Z9q"),s=n("8xE2"),l=n("X40V"),c=["theme","values","options","onToggleOption","maxSelectedCount"];const d=function(e){var t=e.theme,n=e.values,d=e.options,u=e.onToggleOption,p=e.maxSelectedCount,m=void 0===p?1/0:p,v=(0,i.Z)(e,c);return(0,a.Z)("ul",{className:"c-dropdown-select ".concat(t?"--"+t+"-theme":"")},void 0,d.map((function(e){var t=n.includes(e.value),i=e.disabled||void 0!==m&&n.length>=m&&!t,c="function"==typeof e.title?e.title():e.title;return r.createElement("li",(0,o.Z)({key:e.value,className:(0,l.AK)("c-dropdown-select__option",{"--disabled":Boolean(e.disabled)})},v),(0,a.Z)(s.Z,{name:e.value,label:c,isChecked:t,onChange:function(){return u(e.value)},disabled:i},void 0,c))})))}},nxOG:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var o=n("sQwH"),a=n("3Z9q"),i=n("paaL");const r=function(e){var t=e.values,n=e.itemProps;return(0,o.Z)("span",{className:i.Z.view},void 0,t.map((function(e,t){return(0,o.Z)(a.Fragment,{},t,t>0&&", ","function"==typeof e?e(n):e)})))}},"+gdw":(e,t,n)=>{"use strict";n.d(t,{Z:()=>Le,l:()=>Se});var o,a,i=n("sQwH"),r=n("7isf"),s=n("xKIK"),l=n("MndH"),c=n("3Z9q"),d=n("VDcQ"),u=n("mSEu"),p=n("+zma"),m=n("LLYa"),v=n("X40V"),f=n("1bEe"),g=n("p5Lb"),Z=n("vAnt"),h=n("TlsM"),b=n("sQZY"),w=n("RyS8"),y=n("e1Pq");function _(e){var t=e.freeLicenses,n=e.selectedLicense,r=e.licenseField,s=(0,y.Z)().Popups,l=c.useCallback((function(){s.loadChangeLicensePopup().then((function(e){return new e({selectedLicense:n,freeLicenses:t}).open().then((function(e){r.onChange(e.uid)})).catch((0,w.KQ)(w.FU))}))}),[s,n,t,r]);return(0,i.Z)("div",{className:"c-model-management-download__row"},void 0,o||(o=(0,i.Z)("span",{className:"c-model-management-download__label"},void 0,"License")),(0,i.Z)("div",{className:"c-model-management-download__right",onClick:l},void 0,(0,i.Z)("p",{className:"c-model-management-download__text"},void 0,n?n.label:null),a||(a=(0,i.Z)("a",{className:"c-model-management-download__link"},void 0,"Change license"))))}var N,k,D,C,x,P,O,A,S,T,E,L,F,j,U,M,I,R,z,K=n("iu9k"),q=n("GKm7"),V=function(e){var t=e.downloadType;return(0,i.Z)(q.Z,{center:!0,type:"warning",className:"c-model-management-download__column"},void 0,(0,i.Z)("p",{},void 0,"The model needs to be reprocessed to"," ","store"===t?"appear in the Store":"be downloadable","."),N||(N=(0,i.Z)("p",{},void 0,(0,i.Z)("strong",{},void 0,"This can change how the model is rendered"),". Please check the model once it has been re-processed.")),(0,i.Z)("p",{},void 0,(0,i.Z)("a",{className:"skfb-link",target:"_blank",rel:"noopener noreferrer",href:"".concat(u.Z.hosts.faq,"/s/article/Reprocessing-your-models-for-sale")},void 0,"Learn more")))},Q=function(){return k||(k=(0,i.Z)(q.Z,{center:!0,type:"warning"},void 0,(0,i.Z)("p",{},void 0,"We are preparing your model so it can be downloaded."),(0,i.Z)("p",{},void 0,(0,i.Z)("strong",{},void 0,"This may take a few minutes.")),(0,i.Z)("p",{},void 0,(0,i.Z)("span",{className:"spinner-small --centered"}))))},H=function(){return D||(D=(0,i.Z)(q.Z,{center:!0,type:"error",className:"c-model-management-download__column"},void 0,(0,i.Z)("p",{},void 0,(0,i.Z)("strong",{},void 0,"An error occured while preparing your download.")),(0,i.Z)("p",{},void 0,"Your model won't appear as downloadable."),(0,i.Z)("p",{},void 0,"We have been notified and will fix it as soon as possible.")))},B=function(){return(0,i.Z)(q.Z,{center:!0,type:"error",className:"c-model-management-download__column"},void 0,C||(C=(0,i.Z)("p",{},void 0,(0,i.Z)("strong",{},void 0,"Downloading is disabled for this model."))),x||(x=(0,i.Z)("p",{},void 0,"This model has been uploaded with software that does not allow downloading.")),(0,i.Z)("p",{},void 0,(0,i.Z)("a",{className:"skfb-link",target:"_blank",rel:"noopener noreferrer",href:"".concat(u.Z.hosts.faq,"/s/article/Making-your-models-downloadable")},void 0,"Learn more")))},Y=function(){return(0,i.Z)(q.Z,{center:!0,type:"warning"},void 0,P||(P=(0,i.Z)("p",{},void 0,"Your models will appear in the Store once your PayPal account is connected.")),(0,i.Z)("p",{},void 0,"Go to"," ",(0,i.Z)("a",{className:"skfb-link",href:(0,K.HQ)("users:settings_account")},void 0,"Account Settings"),"."))},$=function(){return(0,i.Z)(q.Z,{center:!0,type:"warning"},void 0,O||(O=(0,i.Z)("p",{},void 0,(0,i.Z)("strong",{},void 0,"Your PayPal account is pending verification."))),A||(A=(0,i.Z)("p",{},void 0,"Your models will appear in the Store once your PayPal account has been verified (you will be notified by email).")),(0,i.Z)("p",{},void 0,(0,i.Z)("a",{className:"skfb-link",target:"_blank",rel:"noopener noreferrer",href:"".concat(u.Z.hosts.faq,"/s/article/Getting-paid-with-Sketchfab")},void 0,"Learn more")))},W=function(){return(0,i.Z)(q.Z,{center:!0,type:"warning"},void 0,S||(S=(0,i.Z)("p",{},void 0,(0,i.Z)("strong",{},void 0,"Your PayPal account is not properly configured."))),(0,i.Z)("p",{},void 0,"Make sure to read the"," ",(0,i.Z)("a",{className:"skfb-link",target:"_blank",rel:"noopener noreferrer",href:"".concat(u.Z.hosts.faq,"/s/article/Getting-paid-with-Sketchfab")},void 0,"guidelines")," ","and"," ",(0,i.Z)("a",{className:"skfb-link",href:(0,K.HQ)("users:settings_account")},void 0,"reconnect your PayPal account"),"."),T||(T=(0,i.Z)("p",{},void 0,"Your models will not be available in the Store until you resolve this issue.")))},G=function(e){var t=e.username;return(0,i.Z)(q.Z,{center:!0,type:"warning"},void 0,E||(E=(0,i.Z)("p",{},void 0,(0,i.Z)("strong",{},void 0,"Your seller account has been suspended."))),L||(L=(0,i.Z)("p",{},void 0,"Your models will no longer appear in the Store.")),(0,i.Z)("p",{},void 0,"If you have any questions, please"," ",(0,i.Z)("a",{className:"skfb-link",target:"_blank",href:"mailto:store@sketchfab.com?subject=Seller%20Account%20Suspended%20-%20".concat(t)},void 0,"contact us"),"."))},X=function(){return F||(F=(0,i.Z)(q.Z,{center:!0,type:"warning"},void 0,(0,i.Z)("p",{},void 0,"We are checking the integrity of your additional file."),(0,i.Z)("p",{},void 0,(0,i.Z)("strong",{},void 0,"This may take a few minutes.")),(0,i.Z)("p",{},void 0,(0,i.Z)("span",{className:"spinner-small --centered"}))))},J=function(e){var t=e.downloadType;return(0,i.Z)(q.Z,{center:!0,type:"warning"},void 0,(0,i.Z)("p",{},void 0,"Your model will not"," ","store"===t?"appear in the Store":"be downloadable"," until you publish it."))},ee=function(){return j||(j=(0,i.Z)(q.Z,{center:!0,type:"warning"},void 0,(0,i.Z)("p",{},void 0,(0,i.Z)("b",{},void 0,"Your model is reprocessing.")),(0,i.Z)("p",{},void 0,"3D settings and some properties cannot be edited during reprocessing."),(0,i.Z)("p",{},void 0,"This page will refresh automatically when the reprocessing finishes."),(0,i.Z)("p",{},void 0,(0,i.Z)("span",{className:"spinner-small --centered"}))))},te=function(){return U||(U=(0,i.Z)(q.Z,{center:!0,type:"error",className:"c-model-management-download__column"},void 0,(0,i.Z)("p",{},void 0,(0,i.Z)("strong",{},void 0,"You cannot add this model to the Sketchfab Store because it is private.")),(0,i.Z)("p",{},void 0,"Please make it public if you would like it published in the Store.")))},ne=function(){return M||(M=(0,i.Z)(q.Z,{className:"c-model-management-download__column",center:!0,type:"warning"},void 0,(0,i.Z)("p",{},void 0,(0,i.Z)("b",{},void 0,"You can join Fab to sell 3D models.")),(0,i.Z)("p",{},void 0,(0,i.Z)(Z.Z,{size:"medium",type:"store",target:"_blank",href:"https://fab.com/become-a-publisher",text:"Become a seller on Fab"}))))},oe=n("D4hk"),ae=n("Q0AI"),ie=n("V4X4"),re=n("f49s"),se=n("zIQK");function le(e){var t,n=e.priceField,o=e.licenseField,a=e.licenseOptions,r=e.isLicenceLocked;return(0,i.Z)("span",{},void 0,(0,i.Z)("div",{className:"c-model-management-download__row"},void 0,(0,i.Z)("span",{className:"c-model-management-download__label --centered"},void 0,"Price"," ",(0,i.Z)("a",{target:"_blank",rel:"noopener noreferrer",href:"".concat(u.Z.hosts.faq,"/s/article/Seller-Guidelines"),className:"help"},void 0,I||(I=(0,i.Z)("i",{className:"fa-regular fa-question-circle"})),R||(R=(0,i.Z)("div",{className:"tooltip tooltip-up"},void 0,"Learn more")))),(0,i.Z)("div",{className:"c-model-management-download__right"},void 0,c.createElement(ae.Z,n,c.createElement(ie.Z,(0,oe.Z)({},n,{value:(t=n.value,"$ "+t),onChange:function(e){return n.onChange(e.replace(/\$\s*/g,""))},grey:!0,className:"form-input c-model-management-download__price-input"}))))),(0,i.Z)("div",{className:"c-model-management-download__row"},void 0,z||(z=(0,i.Z)("span",{className:"c-model-management-download__label --centered"},void 0,"License")),(0,i.Z)("div",{className:"c-model-management-download__right"},void 0,c.createElement(ae.Z,o,(0,i.Z)(se.Z,{direction:"up",text:r?"License locked by our team":null},void 0,c.createElement(re.Z,(0,oe.Z)({disabled:r,icon:r?"fa-lock-keyhole":void 0,className:"c-model-management-download__license-select"},o,{options:a,grey:!0})))))))}var ce,de,ue,pe,me,ve,fe,ge,Ze,he,be,we,ye,_e=n("1U7U");function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var De=function(e,t){return ke(ke({},(0,l.Z)(e,["license","price"])),{},{downloadType:t.downloadType})},Ce=function(e,t,n){return(0,m.wo)(t,n)&&e.viewOnlyLimit&&"limited"===e.viewOnlyLimit.type},xe=function(e,t){return"no"!==e&&"should_reprocess"===t.downloadStatus||"store"===e&&!t.hasStats&&"archives_broken"!==t.downloadStatus},Pe=function(e){return function(t){return xe(t,e)?"Your model needs to be reprocessed.":""}},Oe=function(e){return function(t){return"store"===t&&[null,"skfb_revoked","not_a_seller"].includes(e.sellerStatus)?"You can not sell models on the Store anymore":""}},Ae=function(e,t){return function(n,o){if(!Ce(e,t,De(t,o)))return"";var a=e.viewOnlyLimit&&"limited"===e.viewOnlyLimit.type&&!e.viewOnlyLimit.remaining;return"no"===n&&a?"non-downloadable uploads limit reached":""}},Se={downloadType:function(e){var t=e.model,n=e.management,o=e.authUser;return{initialValue:n?n.selectedDownloadType:t?(0,m.Gq)(t):"no",validators:[(0,f.kw)(["no","free","store"])].concat((0,r.Z)(n?[Oe(n),Pe(n)]:[]),(0,r.Z)(t?[Ae(o,t),function(e,t){return"store"===e&&"public"!==t.visibility?"Models on the store must be public":""}]:[]))}},freeLicense:function(e){var t=e.model;return{initialValue:null!=t&&t.license&&t.license.free?t.license.uid:"",validators:[(0,f.Ml)((function(e,t){return"free"===t.downloadType}),[(0,f.C1)("License is required.")])]}},paidLicense:function(e){var t=e.model;return{initialValue:null!=t&&t.license&&!t.license.free?t.license.uid:"",validators:[(0,f.Ml)((function(e,t){return"store"===t.downloadType}),[(0,f.C1)("License is required.")])]}},price:function(e){var t=e.model;return{initialValue:t&&t.price?(0,_e.Ql)(t.price):_e.we,validators:[(0,f.Ml)((function(e,t){return"store"===t.downloadType}),[(0,f.C1)("The price is required."),(0,f.Oi)(/^[^,]*$/,"Comma is an invalid character. Please use a dot to separate dollars from cents."),(0,f.Oi)(/^[0-9]+(\.[0-9][0-9]?)?$/,"Invalid price."),(0,f.VV)(u.Z.modelMinPrice/100,"Must be between "+(0,g.T4)(u.Z.modelMinPrice)+" and $10000."),(0,f.Fp)(1e4,"Must be between "+(0,g.T4)(u.Z.modelMinPrice)+" and $10000.")])]}},extraFile:function(e){var t=e.management;return{initialValue:t?t.extraFile:null,validators:[(0,f.dg)(u.Z.maxExtraArchiveSize,"Additional file is too big")]}},visibility:function(e){var t=e.model;return{validators:[(0,f.kw)(["public","private","protected","org"])],initialValue:t&&t.visibility||"public"}}},Te=function(e){return[{title:"Choose a license",value:""}].concat(e.map((function(e){return{value:e.uid,title:e.label}})))},Ee="".concat(u.Z.hosts.faq,"/s/article/Choosing-your-model-s-license");function Le(e){var t=e.model,n=e.management,o=e.form,a=e.freeLicenses,r=e.paidLicenses,s=e.processingType,l=e.isExtraFileProcessing,u=e.onChangeDownloadType,f=e.reprocess,g=(0,d.v9)(p.wl.authUser.user),w=t.org?["no","free"]:["no","free","store"],y=xe(o.data.downloadType,n),N=(0,m.hv)(t.visibility)&&"store"===o.data.downloadType,k=Ce(g,t,ke(ke({},De(t,o.data)),{},{isPublished:!0})),D=(0,m.a8)(t,ke(ke({},De(t,o.data)),{},{isPublished:!0,downloadType:"free"}))>0;return(0,i.Z)("div",{"data-selenium":"download-section",className:"c-model-management-download"},void 0,(0,i.Z)("header",{className:"c-model-management-download__header"},void 0,(0,i.Z)("div",{className:"c-model-management-download__tabs"},void 0,w.map((function(e){return(0,i.Z)("div",{className:(0,v.AK)("c-model-management-download__tab",{"--active":o.data.downloadType===e}),onClick:function(){return u(e)},"data-selenium":"download-tab-".concat(e)},e,e)})))),(0,i.Z)("div",{className:"c-model-management-download__content"},void 0,g.viewOnlyLimit&&"limited"===g.viewOnlyLimit.type&&D?ce||(ce=(0,i.Z)("p",{className:"c-model-management-download__tip"},void 0,(0,i.Z)("strong",{},void 0,"Tip:")," Set your model to downloadable or for sale to gain 1 credit for the current month.")):null,s===b.M.Reprocess?de||(de=(0,i.Z)(ee,{})):null,"no"!==o.data.downloadType&&"archives_processing"===n.downloadStatus?ue||(ue=(0,i.Z)(Q,{})):"no"!==o.data.downloadType&&"not_published"===n.downloadStatus?(0,i.Z)(J,{downloadType:o.data.downloadType}):null,k?(0,i.Z)(h.ZP,{isPublished:t.isPublished}):null,"archives_broken"===n.downloadStatus?pe||(pe=(0,i.Z)(H,{})):"source_blocked"===n.downloadStatus?me||(me=(0,i.Z)(B,{})):"free"===o.data.downloadType?(0,i.Z)(_,{freeLicenses:a,licenseField:o.fields.freeLicense,selectedLicense:a.find((function(e){return e.uid===o.fields.freeLicense.value}))}):"store"===o.data.downloadType?(0,i.Z)(c.Fragment,{},void 0,null===n.sellerStatus||"paypal_revoked"===n.sellerStatus?ve||(ve=(0,i.Z)(Y,{})):"paypal_pending"===n.sellerStatus?fe||(fe=(0,i.Z)($,{})):["paypal_misconfigured","paypal_unconfigured"].includes(n.sellerStatus)?ge||(ge=(0,i.Z)(W,{})):null,(0,m.hv)(o.data.visibility)?Ze||(Ze=(0,i.Z)(te,{})):null,"not_a_seller"===n.sellerStatus?he||(he=(0,i.Z)(ne,{})):"skfb_revoked"===n.sellerStatus?(0,i.Z)(G,{username:t.user.username}):(0,i.Z)(le,{isLicenceLocked:t.isStoreLicenseLocked,licenseOptions:Te(r),priceField:o.fields.price,licenseField:o.fields.paidLicense,fileField:o.fields.extraFile}),l?be||(be=(0,i.Z)(X,{},"NotPublishedMessage")):null,t.isStoreLicenseLocked?(0,i.Z)("div",{className:"c-model-management-download__tips"},void 0,we||(we=(0,i.Z)("p",{},void 0,(0,i.Z)("strong",{},void 0,"Your model contains third-party Intellectual Property (IP) and must be licensed as"," ",(0,i.Z)("a",{target:"_blank",rel:"noopener noreferrer",href:Ee},void 0,"Editorial"),"."))),(0,i.Z)("p",{},void 0,"If you have any questions, please"," ",(0,i.Z)("a",{target:"_blank",href:"mailto:store@sketchfab.com?subject=License%20Locked&body=Model%3A%20".concat(t.viewerUrl,"%0A%0A")},void 0,"contact us"),".")):"not_a_seller"!==n.sellerStatus&&"skfb_revoked"!==n.sellerStatus?ye||(ye=(0,i.Z)("div",{className:"c-model-management-download__tips"},void 0,(0,i.Z)("p",{},void 0,"Not sure which license is right for you?"),(0,i.Z)("p",{},void 0,(0,i.Z)("a",{target:"_blank",rel:"noopener noreferrer",href:Ee},void 0,"Read more here"),"."))):null):null,y?(0,i.Z)("div",{},void 0,s!==b.M.Reprocess?(0,i.Z)(V,{downloadType:o.data.downloadType}):null,(0,i.Z)(Z.Z,{text:s===b.M.Reprocess?"reprocessing model...":"reprocess model",subtext:s===b.M.Reprocess?"it may take a few minutes":"",onClick:f,disabled:N,size:"large",className:"c-model-management-download__main-button",loading:s===b.M.Reprocess})):null))}},"1U7U":(e,t,n)=>{"use strict";n.d(t,{H5:()=>i,Ql:()=>a,as:()=>r,we:()=>o});var o="25",a=function(e){return String(e?(e/100).toFixed(2):"")},i=function(e){return Math.round(100*Number(e)||0)},r=function(e,t){return Boolean(!e&&t||e&&!t||e&&t&&(e.name!==t.name||e.size!==t.size))}},h4jM:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Z});var o=n("sQwH"),a=n("qD8I"),i=n("CUcO"),r=n("8N4v"),s=n("Zfzx"),l=n("FUT3"),c=n("hayj"),d=n("xKIK"),u=n("3Z9q"),p=n("RYQm"),m=n("UnUI"),v=n("Dc+D"),f=n("nxOG");function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return(0,l.Z)(this,n)}}var Z=function(e){(0,s.Z)(n,e);var t=g(n);function n(){var e;(0,a.Z)(this,n);for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s)),(0,d.Z)((0,r.Z)(e),"getSelectedOptions",(function(){var t=e.props.value;return e.props.options.filter((function(e){return(0,p.Z)(t,e.value)}))})),(0,d.Z)((0,r.Z)(e),"getLabelValue",(function(){var t=e.getSelectedOptions().map((function(e){return e.title}));return(0,o.Z)(f.Z,{values:t,itemProps:{isLabel:!0}})})),(0,d.Z)((0,r.Z)(e),"onToggleOption",(function(t){var n=e.props.value;e.props.onChange((0,p.Z)(n,t)?n.filter((function(e){return e!==t})):n.concat(t))})),e}return(0,i.Z)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,a=t.labelValue,i=t.placeholder,r=t.className,s=t.disabled,l=t.theme,c=t.menuAlign,d=t.options,u=t.value,p=t.maxSelectedCount;return(0,o.Z)(m.Z,{labelTitle:n,labelValue:a||this.getLabelValue(),placeholder:i,className:r,disabled:s,theme:l,menuAlign:c,"data-selenium":this.props["data-selenium"]},void 0,(function(){return(0,o.Z)(v.Z,{maxSelectedCount:p,options:d,values:u,onToggleOption:e.onToggleOption})}))}}]),n}(u.Component);(0,d.Z)(Z,"defaultProps",{title:"",theme:"light",labelValue:"",maxSelectedCount:1/0})},Q0AI:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var o=n("sQwH"),a=(n("3Z9q"),n("X40V"));function i(e){var t=e.error,n=e.isTouched,i=e.label,r=e.children,s=e.className,l=e.labelClassName,c=e.htmlFor,d=void 0===c?"":c,u=e.direction,p=void 0===u?"vertical":u,m=e["data-selenium"];return(0,o.Z)("div",{className:(0,a.AK)("c-form-field",s,{"--vertical":"vertical"===p}),"data-selenium":m},void 0,i?(0,o.Z)("label",{htmlFor:d,className:(0,a.AK)("form-label",l)},void 0,i):null,r,t&&n?(0,o.Z)("p",{className:"form-error"},void 0,t):null)}},"/f62":(e,t,n)=>{"use strict";n.d(t,{Z:()=>Z});var o=n("sQwH"),a=n("xKIK"),i=n("sGMM"),r=n("3Z9q"),s=n("X40V"),l=n("e1Pq"),c=n("D4hk"),d=n("i2hM"),u=n("TC9H");function p(e){var t=r.useRef(e);return r.useEffect((function(){t.current=e}),[e]),t}var m=n("Oyie");const v=function(e){var t=e.className,a=e.value,l=e.label,v=e.onChange,f=e.selectedTab,g=e.onTabChange,Z=e.textAreaProps,h=e.maxLength,b=void 0===h?1024:h,w=e.generateMarkdownPreview,y=r.useRef(null),_=r.useRef(null),N=r.useState(!0),k=(0,i.Z)(N,2),D=k[0],C=k[1],x=r.useRef(null),P=r.useState(null),O=(0,i.Z)(P,2),A=O[0],S=O[1],T=r.useState(""),E=(0,i.Z)(T,2),L=E[0],F=E[1];r.useLayoutEffect((function(){y.current&&(y.current.value=a)}),[a]),r.useLayoutEffect((function(){x.current&&A&&x.current.appendChild(A)}),[A]);var j=p(v),U=p(b);r.useEffect((function(){C(!0),m.all([n.e(5189).then(n.t.bind(n,"Fi04",23)),n.e(5189).then(n.t.bind(n,"ExF7",23)),n.e(5189).then(n.t.bind(n,"eNCp",23))]).then((function(e){var t=(0,i.Z)(e,1)[0].default.fromTextArea(y.current,{mode:"gfm",theme:"neo",highlightFormatting:!0,lineWrapping:!0,extraKeys:d.Z.getShortcuts(),screenReaderLabel:l});d.Z.setEditor(t),S(d.Z.initializeToolbar({})),C(!1),t.on("change",(function(e){e.getTextArea().value=e.getValue(),j.current(e.getValue())}))}))}),[]);var M=function(){C(!0),F("<div>Loading preview...</div>");var e=d.Z.getMarkdownEditorValue()||(y.current?y.current.value:"");(e?w(e):m.resolve("")).then((function(e){C(!1),F(e)}))};return(0,u.Z)(_),(0,o.Z)("div",{className:(0,s.AK)("c-markdown-editor",t,{"--preview":"preview"===f,"--edit":"edit"===f})},void 0,(0,o.Z)("div",{className:"c-markdown-editor__header"},void 0,r.createElement("div",{className:"c-markdown-editor__toolbar",ref:x}),(0,o.Z)("div",{className:"c-markdown-editor__right"},void 0,(0,o.Z)("div",{className:"c-markdown-editor__tab-buttons"},void 0,(0,o.Z)("button",{onClick:function(){return g("edit")},className:(0,s.AK)("edit",{"--selected":"edit"===f})},void 0,"edit"),(0,o.Z)("button",{onClick:function(){g("preview"),M()},className:(0,s.AK)("preview",{"--selected":"preview"===f})},void 0,"preview")))),(0,o.Z)("div",{className:"c-markdown-editor__textarea-container"},void 0,r.createElement("textarea",(0,c.Z)({},Z,{ref:y,className:(0,s.AK)("c-markdown-editor__textarea",{"--loading-editor":D}),maxLength:1024,"aria-label":l,value:a,onChange:function(e){return v(e.target.value)}}))),r.createElement("div",{className:(0,s.AK)("c-markdown-editor__rendered","markdown-rendered-content"),ref:_,dangerouslySetInnerHTML:{__html:L}}),(0,o.Z)("p",{className:"c-markdown-editor__chars-count"},void 0,(0,o.Z)("span",{className:(0,s.AK)("count",{"--error":a.length>1024})},void 0,U.current-a.length)))};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e){var t=e.value,n=e.onChange,a=e.onBlur,c=e.error,d=e.isTouched,u=e.label,p=e.className,m=e.textAreaProps,f=void 0===m?{}:m,Z=r.useState("edit"),h=(0,i.Z)(Z,2),b=h[0],w=h[1],y=r.useState(!1),_=(0,i.Z)(y,2),N=_[0],k=_[1],D=(0,l.Z)().Api,C=Boolean(c&&d);return(0,o.Z)(v,{className:(0,s.AK)(p,{"--error":C,"--focus":N}),value:t,onChange:n,selectedTab:b,onTabChange:w,label:u,textAreaProps:g(g({},f),{},{onFocus:function(){k(!0)},onBlur:function(e){k(!1),a(e)}}),generateMarkdownPreview:function(e){return D.getMarkdownPreview(e).then((function(e){return e.result})).catch((function(){return"Failed to load preview"}))}})}},UhZI:(e,t,n)=>{"use strict";n.d(t,{F:()=>l});var o,a,i=n("sQwH"),r=n("3Z9q"),s=n("mSEu"),l=function(e){return r.createElement("div",e,o||(o=(0,i.Z)("strong",{},void 0,"Note:"))," The NoAI meta tag will not be applied to Creative Commons-licensed models because NoAI tagging"," ",a||(a=(0,i.Z)("a",{href:"https://creativecommons.org/faq/#what-if-i-have-received-cc-licensed-material-with-additional-restrictions",target:"_blank",rel:"nofollow noopener noreferrer",className:"skfb-link"},void 0,"may not be compatible with CC licenses."))," ","You can use the Free Standard license for your downloadable models."," ",(0,i.Z)("a",{className:"skfb-link",href:"".concat(s.Z.hosts.faq,"/s/article/Licenses"),target:"_blank",rel:"noopener noreferrer"},void 0,"Learn more"))}},yd36:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var o,a,i=n("sQwH"),r=(n("3Z9q"),n("X40V"));function s(e){var t=e.className,n=e.type,s=void 0===n?"viewer":n;return(0,i.Z)("div",{"data-selenium":"processing-placeholder",className:(0,r.AK)("c-processing-viewer-placeholder",t,"--".concat(s))},void 0,o||(o=(0,i.Z)("svg",{className:"c-processing-viewer-placeholder__logo",viewBox:"0 0 36 42"},void 0,(0,i.Z)("g",{fill:"none",fillRule:"evenodd"},void 0,(0,i.Z)("path",{d:"M20 42V24.5L36 15v17.5L20 42zM0 15l15.5 9.5V42L0 32.5V15zm35-5L18 20.5 1 10 18 0l17 10z",fill:"#DBE3F4",fillRule:"nonzero"}),(0,i.Z)("path",{d:"M-12-9h60v60h-60z"})))),a||(a=(0,i.Z)("div",{className:"c-processing-viewer-placeholder__loader"})))}},UQ3Q:(e,t,n)=>{"use strict";n.d(t,{Z:()=>R,I:()=>I});var o,a,i,r,s,l,c,d=n("sQwH"),u=n("xKIK"),p=n("sGMM"),m=n("Bpah"),v=n("3Z9q"),f=n("VDcQ"),g=n("+zma"),Z=n("LLYa"),h=n("7txH"),b=n("MjD7"),w=n("gyKT"),y=n("k3DV"),_=n("Wch8"),N=n("y+4b"),k=n.n(N),D=n("RyS8"),C=n("e1Pq"),x=n("pLUK"),P=n("vkRz"),O=n("ZGp8"),A=n("fBod"),S=n("zIQK"),T=n("h9M4"),E=n("V29b"),L=n("pgZm"),F=n("h0W9"),j=n("N+9a");function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=(0,C.Z)(),o=n.Popups,a=(0,E.Z)(),i=a.list.filter((function(e){return(0,L.oF)(e.role,"contributor")})).length>0&&!e.org,r=i&&"store"!==e.downloadType,s=(0,x.Z)(v.useCallback((function(){return o.loadModelTransferPopup().then((function(n){return new n({model:e,onTransferModelSuccess:t}).open()}))}),[e,t,o]));return{showTransferOption:i,canTransfer:r,openModelTransferPopup:s}};const R=function(e){var t=e.model,n=e.direction,u=e.className,N=e.withProperties,E=void 0===N||N,L=e.withPublish,U=void 0===L||L,R=e.with3DSettings,z=void 0===R||R,K=e.onTransferModelSuccess,q=void 0===K?function(){}:K,V=e.onDeleteModelSuccess,Q=void 0===V?function(){}:V,H=e.onDeleteModelError,B=void 0===H?function(e){throw e}:H,Y=(0,f.v9)(g.wl.authUser.user),$=(0,f.I0)(),W=(0,C.Z)().Popups,G=v.useCallback((function(){$(T.Nw.update({models:[t]})),$(g.Nw.models.tryPublish(t.uid))}),[t.uid,$]),X=v.useCallback((function(e){(0,h.Z)()||(e.preventDefault(),(new O.Z).open())}),[]),J=v.useCallback((function(){return W.openAddToCollectionPopup(new m.Z(t))}),[t,W]),ee=(0,P.Z)(t),te=(0,y.Z)(t),ne=v.useCallback((function(){(0,A.loadReportPopup)().then((function(e){new e({model:new m.Z(t)})}))}),[t]),oe=(0,x.Z)(v.useCallback((function(){return W.openDownloadPopup(t)}),[t,W])),ae=I(t,q),ie=ae.showTransferOption,re=ae.canTransfer,se=ae.openModelTransferPopup,le=function(e){var t=(0,C.Z)(),n=t.Api,o=t.Popups;return v.useCallback((0,_.Z)(k().mark((function t(){var a;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getModelManagement(e.uid);case 2:a=t.sent,o.loadDownloadOwnModelPopup().then((function(t){return new t({model:new m.Z(e),archivesDetails:a.archivesDetails}).open()})).catch((0,D.KQ)(D.ud));case 4:case"end":return t.stop()}}),t)}))),[n,o,e])}(t),ce=(0,Z.Ov)("pro",t)||Y.isStaff,de=(0,Z.nR)(t),ue=(0,p.Z)(de,2),pe=ue[0],me=ue[1];return(0,d.Z)(b.ZP,{className:u,direction:n},void 0,(0,Z.ON)(t)?(0,d.Z)(v.Fragment,{},void 0,2===t.processingStatus&&!t.publishedAt&&U&&(0,Z.qS)(t,M(M({},t),{},{isPublished:!0}),Y)&&(0,d.Z)(v.Fragment,{},void 0,(0,d.Z)(b.Lz,{name:"Publish",onClick:G}),o||(o=(0,d.Z)(b.Z0,{}))),2===t.processingStatus&&(0,d.Z)(v.Fragment,{},void 0,E&&(0,d.Z)(b.Lz,{name:"Properties",navigate:{to:pe,params:me},iconClassName:"fa-gear"}),z&&(0,d.Z)(b.Lz,{name:"3D settings",href:t.editorUrl,onClick:X,iconClassName:"fa-sliders"}),t.publishedAt&&(0,d.Z)(b.Lz,{name:"Add to collection",onClick:J,iconClassName:"fa-table"}),t.user.uid!==Y.uid&&(0,Z.Rn)(Y,t)&&(0,d.Z)(b.Lz,{name:"Download",onClick:oe,iconClassName:"fa-arrow-down-to-bracket"}),a||(a=(0,d.Z)(b.Z0,{}))),t.user.uid===Y.uid&&t.isPublished?(0,d.Z)(v.Fragment,{},void 0,(0,d.Z)(b.Lz,{name:"Download",onClick:le,disabled:!ce,className:"download-own-model",iconClassName:"fa-arrow-down-to-bracket"},void 0,ce?null:i||(i=(0,d.Z)(j.Z,{to:"pages:plans",className:"help fa-regular fa-question-circle"},void 0,(0,d.Z)(S.Z,{text:"Pro members and above can download all their own models, even when they are not allowed to be downloaded publicly"})))),r||(r=(0,d.Z)(b.Z0,{}))):null,t.processingStatus>1&&(0,d.Z)(v.Fragment,{},void 0,(0,d.Z)(b.Lz,{name:"Reupload",onClick:ee,"data-selenium":"open-reupload-popup",iconClassName:"fa-arrow-up-from-bracket"}),(0,d.Z)(w.Z,{model:t},void 0,(function(e){var t=e.canDuplicate,n=e.duplicate;return(0,d.Z)(b.Lz,{name:t?"Duplicate":s||(s=(0,d.Z)("span",{},void 0,"Duplicate"," ",(0,d.Z)("span",{className:"flag --pro"},void 0,"pro"))),onClick:n,disabled:!t,"data-selenium":"open-reupload-popup",iconClassName:"fa-copy"})})),ie?(0,d.Z)(b.Lz,{name:"Transfer",onClick:se,iconClassName:"fa-exchange","data-selenium":"open-transfer-popup",disabled:!re},void 0,re?null:l||(l=(0,d.Z)("a",{className:"help fa-regular fa-question-circle",href:F.transferHelpUrl,target:"_blank",rel:"noopener noreferrer"},void 0,(0,d.Z)(S.Z,{text:(0,d.Z)("span",{},void 0,"Transfer is not possible ",(0,d.Z)("u",{},void 0,"Why ?"))})))):null,(0,d.Z)(b.Lz,{name:"Delete",className:"--red",onClick:function(){return te().then(Q,B)},"data-selenium":"delete-model",iconClassName:"fa-trash-can"}),c||(c=(0,d.Z)(b.Z0,{})))):null,(0,d.Z)(b.Lz,{name:"Report an issue",onClick:ne,iconClassName:"fa-flag"}))}},MjD7:(e,t,n)=>{"use strict";n.d(t,{Lz:()=>f,Z0:()=>g,ZP:()=>Z});var o,a=n("D4hk"),i=n("xKIK"),r=n("3MRe"),s=n("sQwH"),l=n("MndH"),c=n("3Z9q"),d=n("X40V"),u=n("N+9a"),p=["name","className","children","disabled","iconClassName"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var v=function(e){var t=e.iconClassName,n=e.name;return(0,s.Z)(c.Fragment,{},void 0,t?(0,s.Z)("i",{className:(0,d.AK)("quicksettings-icon fa-regular",t)}):null,n)},f=function(e){var t=e.name,n=e.className,o=e.children,f=e.disabled,g=void 0!==f&&f,Z=e.iconClassName,h=void 0===Z?"":Z,b=(0,r.Z)(e,p),w=(0,s.Z)(v,{iconClassName:h,name:t}),y=(0,d.AK)("quicksettings-item",n,{disabled:g}),_=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,l.Z)(b,["to","params","queryParams","hash","onClick","href"]));return"href"in b?c.createElement("li",_,(0,s.Z)(u.Z,{className:y,href:b.href,disabled:g},void 0,w),o):"navigate"in b?c.createElement("li",_,c.createElement(u.Z,(0,a.Z)({},b.navigate,{className:y,disabled:g}),w),o):c.createElement("li",_,(0,s.Z)("div",{className:y,role:"button",onClick:g?void 0:b.onClick},void 0,w),o)},g=function(){return o||(o=(0,s.Z)("li",{className:"separator"}))};const Z=function(e){var t=e.children,n=e.direction,o=e.className;return(0,s.Z)("ul",{className:(0,d.AK)("hover-menu","quicksettings","corner",n?"--".concat(n):"",o)},void 0,t)}},TlsM:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>y,gb:()=>b,km:()=>w,mX:()=>h});var o,a,i,r,s=n("sQwH"),l=n("3Z9q"),c=n("VDcQ"),d=n("mSEu"),u=n("+zma"),p=n("iu9k"),m=n("TUor"),v=n("vAnt"),f=n("rzLk"),g=n("GKm7"),Z=function(e){var t=e.viewOnlyLimit,n="".concat(d.Z.hosts.faq,"/s/article/Upload-Limits");return(0,s.Z)(f.Z,{className:"c-view-only-limit__understand-limits",direction:"up",message:"unlimited"===t.type?"Learn more about the credit system":(0,s.Z)(l.Fragment,{},void 0,"Your monthly limit will reset on"," ",(0,s.Z)("strong",{},void 0,(0,m.p6)(t.renews_at,"MMM Do")),".",o||(o=(0,s.Z)("br",{})),"Click to learn more about the credit system."),href:n})},h=function(e){var t=e.children,n=e.urlRef,o=e.className,a={ref:n};return(0,s.Z)("a",{className:o,href:(0,p.HQ)("pages:plans",{},a)},void 0,t)},b=function(e){var t=e.text;return(0,s.Z)("span",{className:"help c-view-only-limit__view-only-tooltip"},void 0,(0,s.Z)("span",{className:"c-view-only-limit__dotted"},void 0,t),(0,s.Z)("span",{className:"tooltip tooltip-up",style:{width:220}},void 0,"A model that is downloadable or in the Store doesn't count against this limit."))},w=function(e){var t=e.viewOnlyLimit;return(0,s.Z)("p",{className:"c-view-only-limit__left"},void 0,"unlimited"===t.type?a||(a=(0,s.Z)(l.Fragment,{},void 0,"You can upload an unlimited number of models.")):(0,s.Z)(l.Fragment,{},void 0,t.remaining," ",(0,s.Z)(b,{text:"upload credit".concat(1===t.remaining?"":"s")})," ","left")," ",(0,s.Z)(Z,{viewOnlyLimit:t}))};const y=function(e){var t=e.isPublished,n=(0,c.v9)((function(e){return u.wl.authUser.user(e)}));if(!n.viewOnlyLimit||"unlimited"===n.viewOnlyLimit.type)return null;var o,a=n.viewOnlyLimit;return(0,s.Z)(g.Z,{center:!0,type:a.remaining?"warning":"error"},void 0,(0,s.Z)(l.Fragment,{},void 0,(0,s.Z)("strong",{},void 0,(0,s.Z)(w,{viewOnlyLimit:a})),a.remaining?i||(i=(0,s.Z)(l.Fragment,{},void 0,(0,s.Z)("p",{},void 0,"Models set to downloadable do not count towards your upload limit."),(0,s.Z)("p",{},void 0,(0,s.Z)(h,{urlRef:"manage_model"},void 0,"Upgrade to increase your limit")))):(0,s.Z)(l.Fragment,{},void 0,(0,s.Z)("p",{},void 0,t?"To make this model not publicly downloadable":"To publish this model",", you must wait until"," ",(0,s.Z)("strong",{},void 0,(o=a.renews_at,Math.abs(Date.now()-new Date(o).getTime())<864e5?"today at ".concat((0,m.p6)(a.renews_at,"h:mm A")):(0,m.p6)(a.renews_at,"MMM Do"))),", set it to downloadable or upgrade your account."),r||(r=(0,s.Z)("p",{},void 0,(0,s.Z)(h,{urlRef:"manage_model"},void 0,(0,s.Z)(v.Z,{size:"small",type:"important",text:"upgrade your account"})))))))}},gyKT:(e,t,n)=>{"use strict";n.d(t,{Z:()=>F});var o,a=n("sGMM"),i=n("Wch8"),r=n("qD8I"),s=n("CUcO"),l=n("8N4v"),c=n("Zfzx"),d=n("FUT3"),u=n("hayj"),p=n("xKIK"),m=n("sQwH"),v=n("y+4b"),f=n.n(v),g=n("ULsr"),Z=n("3Z9q"),h=n("jQKg"),b=n("fBod"),w=n("+zma"),y=n("xovo"),_=n("LLYa"),N=n("RyS8"),k=n("lrhy"),D=n("iu9k"),C=n("1nxQ"),x=n("vAnt"),P=n("l1Cg"),O=n("A2i4"),A=n("ZZB/"),S=n("Oyie");function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,u.Z)(e);if(t){var a=(0,u.Z)(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return(0,d.Z)(this,n)}}var E=(0,g.Z)(x.Z),L=function(e){var t=e.model;return(0,m.Z)("div",{className:"c-duplicate-model-container__loading-popup"},void 0,o||(o=(0,m.Z)(P.Z,{type:"small"})),(0,m.Z)(O.ZP,{alt:"Thumbnail for ".concat(t.name," 3D model"),images:t.thumbnails,width:100,height:56.25}),(0,m.Z)(A.Z,{model:t}))},F=function(e){(0,c.Z)(n,e);var t=T(n);function n(e){var o;return(0,r.Z)(this,n),o=t.call(this,e),(0,p.Z)((0,l.Z)(o),"popup",void 0),(0,p.Z)((0,l.Z)(o),"canDuplicate",(function(){return o.props.model.processingStatus===y.JD.SUCCEEDED&&(0,_.Ov)("pro",o.props.model)})),(0,p.Z)((0,l.Z)(o),"duplicate",(function(){return o.canDuplicate()?h.Z.duplicateModel(o.props.model.uid).then((function(e){var t=e.model.uid;return(0,b.loadMessagePopup)().then((function(e){return o.popup=new e({title:"Your model is being duplicated.",children:{viewClass:(0,g.Z)(L),options:{model:o.props.model}}}),o.popup.open(),o.popup})),o.pollDuplicatedModelStatus(t).then((function(){return h.Z.getModel(t).then(function(){var e=(0,i.Z)(f().mark((function e(n){var a,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.n2.store.dispatch(w.Nw.entities.update({models:[n]}));case 2:null===(a=(i=o.props).onDuplicate)||void 0===a||a.call(i,n),o.popup.close(),o.openDuplicationSucceededPopup(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).catch((function(e){throw o.popup.close(),e}))})).catch((function(e){return console.error(e),o.openDuplicationFailedPopup(),S.resolve()})):S.resolve()})),(0,p.Z)((0,l.Z)(o),"pollDuplicatedModelStatus",(function(e){return h.Z.getModelStatus(e).then((function(t){return["FAILED","SUCCEEDED"].includes(t.processing)?"FAILED"===t.processing?S.reject(t.processing):S.resolve(t.processing):(0,k.gw)(2e3).then((function(){return o.pollDuplicatedModelStatus(e)}))}))})),(0,p.Z)((0,l.Z)(o),"openDuplicationFailedPopup",(function(){return(0,b.loadMessagePopup)().then((function(e){return new e({title:"Duplication failed",html:"\n                <p>The duplication of your model <strong>failed</strong>.</p>\n            ",renderButtons:function(e){return[{viewClass:E,options:{text:"cancel",key:"cancel",type:"tertiary",onClick:function(){return e.cancel()}}},{viewClass:E,options:{text:"retry",key:"retry",type:"primary",onClick:function(){e.continue(),o.duplicate()}}}]}}).open().catch((0,N.KQ)(N.ud))}))})),(0,p.Z)((0,l.Z)(o),"openDuplicationSucceededPopup",(function(e){return(0,b.loadMessagePopup)().then((function(t){return new t({title:"Model Duplicated",shouldRejectOnCancel:!0,html:(0,C.sanitize)("\n                <p>\n                    <span>Your model </span>\n                    <strong>“".concat(o.props.model.name,"”</strong>\n                    <span> has been succesfully duplicated!</span>\n                </p>\n            ")),width:560,renderButtons:function(e){return[{viewClass:E,options:{type:"tertiary",text:"close",key:"cancel",onClick:function(){return e.cancel()}}},{viewClass:E,options:{type:"primary",text:"go to the duplicated model",key:"continue",onClick:function(){return e.continue()}}}]}}).open().then((function(){var t={uid:e,org:o.props.model.org,slug:""},n=t.org?(0,_.IL)(t):(0,_.U3)(t),i=(0,a.Z)(n,2),r=i[0],s=i[1];window.location.assign((0,D.HQ)(r,s))})).catch((0,N.KQ)(N.ud))}))})),o.duplicate=k.iB(o.duplicate.bind((0,l.Z)(o))),o}return(0,s.Z)(n,[{key:"render",value:function(){return this.props.children({canDuplicate:this.canDuplicate(),duplicate:this.duplicate.bind(this)})}}]),n}(Z.Component)},sQZY:(e,t,n)=>{"use strict";n.d(t,{M:()=>o,Z:()=>c});var o,a=n("sGMM"),i=n("3Z9q"),r=n("VDcQ"),s=n("+zma"),l=n("RyS8");!function(e){e.Initial="Initial",e.Reprocess="Reprocess",e.None="None"}(o||(o={}));const c=function(e,t,n){var c=(0,r.I0)(),d=i.useState(t.hasProcessingVersion?"SUCCEEDED"===e.status.processing?o.Reprocess:o.Initial:o.None),u=(0,a.Z)(d,2),p=u[0],m=u[1],v=i.useCallback((function(){return c(s.Nw.models.pollVersions(e.uid)).then((function(){m(o.None)}))}),[e.uid,c]),f=i.useCallback((function(){return m(o.Reprocess),c(s.Nw.models.reprocess(e.uid,!0)).then((function(){m(o.None),n&&n()}))}),[c,e.uid]);return i.useEffect((function(){if(p!==o.None){var e=v();return e.catch((0,l.KQ)(l.FU)),function(){return e.cancel()}}}),[]),{processingType:p,reprocess:f}}},vkRz:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var o=n("Wch8"),a=n("y+4b"),i=n.n(a),r=n("3Z9q"),s=n("Bpah"),l=n("RyS8"),c=n("VDcQ"),d=n("+zma"),u=n("LLYa"),p=n("e1Pq");function m(e){var t=(0,c.v9)(d.wl.authUser.canAccessFeature("ff_read_only_mode")),n=(0,p.Z)(),a=n.Api,m=n.Popups;return r.useCallback((0,o.Z)(i().mark((function n(){var o;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=4;break}m.openMaintenancePopup("Sketchfab is undergoing maintenance. Reuploading models is currently disabled."),n.next=13;break;case 4:if(!(0,u.aI)(e)){n.next=8;break}n.t0=e,n.next=11;break;case 8:return n.next=10,a.getModel(e.uid);case 10:n.t0=n.sent;case 11:o=n.t0,m.loadUploadPopup().then((function(t){return new t({org:e.org,project:e.orgProject,model:new s.Z(o)}).open()})).catch((0,l.KQ)(l.ud));case 13:case"end":return n.stop()}}),n)}))),[e,t,a,m])}},aZj5:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var o,a,i,r,s=n("sQwH");n("3Z9q");function l(e){var t=e.onBack,n=e.onClose;return(0,s.Z)("header",{className:"c-model-properties__header"},void 0,t?(0,s.Z)("a",{className:"c-model-properties__header-back skfb-link","data-selenium":"properties-back",onClick:function(){return t()}},void 0,o||(o=(0,s.Z)("i",{className:"fa-regular fa-chevron-left"})),a||(a=(0,s.Z)("span",{className:"c-model-properties__header-back__text"},void 0,"Back"))):null,i||(i=(0,s.Z)("h1",{className:"c-model-properties__header-title"},void 0,"Edit model")),n?(0,s.Z)("div",{className:"c-model-properties__close"},void 0,(0,s.Z)("a",{"aria-label":"Close popup","data-selenium":"close-popup",className:"c-model-properties__close-icon",onClick:n},void 0,r||(r=(0,s.Z)("i",{className:"fa-regular fa-times"})))):null)}},NDtu:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Z});var o,a=n("sQwH"),i=n("Wch8"),r=n("7isf"),s=n("sGMM"),l=n("y+4b"),c=n.n(l),d=n("Hjnd"),u=n.n(d),p=n("3Z9q"),m=n("R276"),v=n("e1Pq"),f=n("X40V"),g=n("Oyie");function Z(e){var t=e.value,l=e.orgUid,d=e.onChange,Z=e["data-selenium"],h=p.useRef(null),b=p.useState(""),w=(0,s.Z)(b,2),y=w[0],_=w[1],N=p.useState(!1),k=(0,s.Z)(N,2),D=k[0],C=k[1],x=(0,v.Z)().Api,P=(0,m.Z)((function(e){var t=e.Api;return l?g.resolve([]):t.getTagSuggestions().then((function(e){return e}))}),[],[]),O=(0,s.Z)(P,1)[0],A=p.useCallback((function(){return d(t.slice(0,t.length-1))}),[d,t]),S=p.useCallback((function(e){return d(t.filter((function(t){return t!==e})))}),[d,t]),T=p.useCallback((function(e){d(!e.length||!e[0]||e[0]&&t.includes(e[0])?t:[].concat((0,r.Z)(t),(0,r.Z)(e)))}),[d,t]),E=p.useCallback((function(e){var n=e.target.value.split(/[\s,]+/),o=n.pop(),a=(0,r.Z)(new Set(n)).filter((function(e){return!t.includes(e)&&e.length<48}));T(a),_(o||"")}),[T,t]),L=p.useCallback((function(e){("Enter"===e.key||","===e.key||" "===e.key)&&h.current&&h.current.value&&h.current.value.length<48&&(e.preventDefault(),T([h.current.value]),_("")),"Backspace"===e.key&&h.current&&!h.current.value&&A()}),[T,A]),F=p.useRef(E);p.useEffect((function(){F.current=E}),[E]),p.useEffect((function(){h.current&&n.e(5271).then(n.t.bind(n,"KcXp",23)).then((function(){var e;u()(h.current).textcomplete([{match:/\b([\w-]{2,})$/,search:(e=(0,i.Z)(c().mark((function e(t,n){var o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=6;break}return e.next=3,x.getTagOrgAutocomplete(l,t);case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,x.getTagAutocomplete(t);case 8:e.t0=e.sent;case 9:o=e.t0,a=o.results,n(a);case 12:case"end":return e.stop()}}),e)}))),function(t,n){return e.apply(this,arguments)}),replace:function(e){return"".concat(e," ")},index:1}],{debounce:300}).on("change",(function(e){F.current(e)}))}))}),[]);var j=(0,r.Z)(new Set(O)).filter((function(e){return!t.includes(e)}));return(0,a.Z)("div",{className:"c-tag-input"},void 0,(0,a.Z)("div",{className:(0,f.AK)("form-input","--border",{focused:D})},void 0,t.map((function(e){return(0,a.Z)("div",{className:"c-tag-input__tag",onClick:function(){return S(e)}},e,(0,a.Z)("div",{className:"c-tag-input__tag-text"},void 0,e),o||(o=(0,a.Z)("i",{className:"icon fa-regular fa-close"})))})),p.createElement("textarea",{className:"c-tag-input__textarea",ref:h,value:y,onChange:E,onKeyDown:L,onFocus:function(){return C(!0)},onBlur:function(){return C(!1)},placeholder:t.length?"Add another":"Add tags","data-selenium":Z})),j.length?(0,a.Z)("p",{className:"c-tag-input__suggestions"},void 0,"Suggested tags:"," ",j.map((function(e,t){return(0,a.Z)(p.Fragment,{},e,t?", ":null,(0,a.Z)("span",{className:"skfb-link",onClick:function(){return T([e])}},void 0,e))}))):null)}},tPF1:(e,t,n)=>{"use strict";n.d(t,{l:()=>d,R:()=>c});var o=n("xKIK"),a=n("1bEe"),i=n("+gdw"),r=n("LLYa");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c="******",d=l(l(l({},i.l),{isArEnabled:function(e){var t=e.model;return{initialValue:!(!t||!t.isArEnabled)&&t.isArEnabled,validators:[]}}}),{},{name:function(e){return{validators:[(0,a.C1)(),(0,a.BS)(48)],initialValue:e.model.name}},description:function(e){return{validators:[(0,a.BS)(1024)],initialValue:e.model.description}},orgProject:function(e){return{validators:e.model.org?[(0,a.C1)()]:[],initialValue:e.model.orgProject}},categories:function(e){return{validators:[],initialValue:e.model.categories?e.model.categories.map((function(e){return e.uid})):[]}},tags:function(e){var t=e.model;return{validators:[],initialValue:t.org?t.orgTags:t.tags}},visibility:function(e){return{validators:[(0,a.kw)(["public","private","protected","org"]),function(t){return!(0,r.Ov)("pro",e.model)&&(0,r.hv)(t)?"You need to upgrade to Pro to have private and password protected models.":""}],initialValue:e.model.visibility}},password:function(e){return{validators:[function(e,t){return e||"protected"!==t.visibility?void 0:"This field is required"}],initialValue:e.model.isUploading||"protected"!==e.model.visibility?"":c}},isInspectable:function(e){return{validators:[function(e,t){return e||"no"===t.downloadType?void 0:"Downloadable and store models must be inspectable."}],initialValue:e.model.isInspectable}},isRestricted:function(e){return{validators:[],initialValue:e.model.isRestricted}},hasCommentsDisabled:function(e){return{validators:[],initialValue:e.model.hasCommentsDisabled}},hasPromotionalContent:function(e){return{validators:[],initialValue:e.model.hasPromotionalContent}}})},"/5B5":(e,t,n)=>{"use strict";n.d(t,{Z:()=>ht});var o=n("D4hk"),a=n("7isf"),i=n("Wch8"),r=n("xKIK"),s=n("3MRe"),l=n("sGMM"),c=n("sQwH"),d=n("y+4b"),u=n.n(d),p=n("3Z9q"),m=n("VDcQ"),v=n("5hHH"),f=n("+zma"),g=n("LLYa"),Z=n("X40V"),h=n("pgZm"),b=n("1nxQ"),w=n("hDfq"),y=n("vAnt"),_=n("1U7U"),N=n("h4jM"),k=n("Q0AI"),D=n("V4X4"),C=n("/f62"),x=n("yd36"),P=n("e+fc"),O=n("xtQ3"),A=n("e1Pq");var S,T=n("R276"),E=n("c2Jd"),L=n("kN3w"),F=n("mSEu"),j=n("p5Lb");function U(e){var t=function(e){return 10+(0,j.zy)([0,20],[0,20],e.description.length)+(0,j.zy)([20,100],[0,20],e.description.length)+(e.categories.length>=1?25:0)+(e.tags.length>=2?25:0)}(e.form);return(0,c.Z)("div",{className:"c-discoverability"},void 0,(0,c.Z)("label",{className:"c-model-properties__label"},void 0,"Discoverability"," ",(0,c.Z)("span",{className:"c-model-properties__thumb-up"},void 0,100===t?"👍":"")),(0,c.Z)("div",{className:"progression small"},void 0,(0,c.Z)("div",{className:"progressbar"},void 0,(0,c.Z)("div",{className:(0,Z.AK)("status",t<20?"status-danger":t>=30&&t<70?"status-warning":t>=70?"status-success":null),style:{width:"".concat(t,"%")}}))),S||(S=(0,c.Z)("p",{},void 0,"Write a good description, add categories and tags to help your model get discovered.")),(0,c.Z)("p",{},void 0,(0,c.Z)("a",{className:"skfb-link",href:"".concat(F.Z.hosts.faq,"/s/article/Making-your-model-discoverable"),target:"_blank",rel:"noreferrer noopener"},void 0,"More tips to get exposure")))}var M,I,R=n("RI22"),z=n("iu9k");function K(){var e=(0,A.Z)().History;return(0,c.Z)("div",{className:"c-model-download__upgrade"},void 0,M||(M=(0,c.Z)("h2",{className:"c-model-download__title"},void 0,"Unlock conversion & import")),I||(I=(0,c.Z)("div",{className:"c-model-download__contents"},void 0,(0,c.Z)("div",{className:"c-model-download__label"},void 0,(0,c.Z)("i",{className:"icon fa-regular fa-check"}),(0,c.Z)("p",{className:"label_contents"},void 0,"Download your own model")),(0,c.Z)("div",{className:"c-model-download__label"},void 0,(0,c.Z)("i",{className:"icon fa-regular fa-check"}),(0,c.Z)("p",{className:"label_contents"},void 0,"Convert it to glTF & USDZ")),(0,c.Z)("div",{className:"c-model-download__label"},void 0,(0,c.Z)("i",{className:"icon fa-regular fa-check"}),(0,c.Z)("p",{className:"label_contents"},void 0,"Import it into your favorite 3D software")))),(0,c.Z)("div",{className:"c-model-download__action"},void 0,(0,c.Z)(y.Z,{type:"important",size:"large",text:"Upgrade your account",onClick:function(){e.push((0,z.HQ)("pages:plans"))}})))}var q=n("KUFO"),V=n("KGKI"),Q=n("GKm7"),H={gltf:"Android",usdz:"iOS"};var B,Y,$,W,G=n("Di7Z"),X=n("rzLk"),J=n("EA64"),ee={gltf:{label:"glTF",description:"(Converted)"},usdz:{label:"USDZ",description:"(Converted AR format)"}},te={not_published:{type:"inactive",label:"waiting for publish"},source_blocked:{type:"inactive",label:"model undownloable"},Succeeded:{type:"active",label:"converted"},Pending:{type:"pending",label:"converting..."},Processing:{type:"pending",label:"converting..."},Failed:{type:"error",label:"conversion failed"}},ne=function(e,t){return e[t.type].label},oe=function(e,t){return e[t.type].description};const ae=function(e){var t,n=e.form,o=e.management,a=e.model,i=o.archivesDetails,r=o.downloadStatus,s="Your model will be automatically converted to glTF and USDZ formats and made available for AR on Android and iOS.",l="".concat(F.Z.hosts.faq,"/s/article/App-free-AR"),d=(0,J.O)(i);return(0,c.Z)("div",{className:"c-enterprise-ar"},void 0,(0,c.Z)("div",{className:(0,Z.AK)("c-enterprise-ar__title",{"--arEnabled":n.data.isArEnabled})},void 0,(0,c.Z)("div",{className:"c-enterprise-ar__title__label"},void 0,B||(B=(0,c.Z)("p",{className:"title"},void 0,"Allow AR")),(0,c.Z)(X.Z,{href:l,message:s})),p.createElement(V.Z,n.fields.isArEnabled)),n.data.isArEnabled?(0,c.Z)(p.Fragment,{},void 0,(0,c.Z)("div",{className:"c-enterprise-ar__contents"},void 0,"not_published"===r||"source_blocked"===r?d.map((function(e,t){return["source","uasset"].includes(e.type)?null:(0,c.Z)(p.Fragment,{},t,(0,c.Z)("div",{className:"c-enterprise-ar__option"},void 0,(0,c.Z)("div",{className:"c-enterprise-ar__type"},void 0,(0,c.Z)("span",{className:"label"},void 0,ne(ee,e)," "),(0,c.Z)("span",{className:"description"},void 0,oe(ee,e))),(0,c.Z)("div",{className:"c-enterprise-ar__status"},void 0,(0,c.Z)(q.Z,{type:te[r].type,label:te[r].label}))),Y||(Y=(0,c.Z)("div",{className:"c-side-settings__separator"})))})):(0,c.Z)("div",{},void 0,function(e){var t="",n="";return e.filter((function(e){return"source"!==e.type&&"Failed"===e.status})).map((function(e){""===t?(t=e.type,n=H[e.type]):(t="".concat(t," & ").concat(e.type),n="".concat(n," or ").concat(H[e.type]))})),t?(0,c.Z)(Q.Z,{center:!0,type:"warning"},void 0,(0,c.Z)("p",{},void 0,(0,c.Z)("strong",{},void 0,"The ",t," conversion failed.")),(0,c.Z)("p",{},void 0,"Your model will not be AR-compatible on ".concat(n,". Read our "),(0,c.Z)("span",{},void 0,(0,c.Z)("a",{href:"".concat(F.Z.hosts.faq,"/s/article/glTF-GLB-and-USDZ"),target:"_blank",rel:"noopener noreferrer"},void 0,"AR guidelines"))," to find out more, or report the issue below.")):null}(d),d.map((function(e,n){return["source","uasset"].includes(e.type)?null:(0,c.Z)(p.Fragment,{},n,(0,c.Z)("div",{className:"c-enterprise-ar__option"},void 0,(0,c.Z)("div",{className:"c-enterprise-ar__type"},void 0,(0,c.Z)("span",{className:"label"},void 0,ne(ee,e)," "),(0,c.Z)("span",{className:"description"},void 0,oe(ee,e))),(0,c.Z)("div",{className:"c-enterprise-ar__status"},void 0,e.exists&&e.status?"Failed"===e.status?(0,c.Z)(p.Fragment,{},void 0,(0,c.Z)(q.Z,{type:te[e.status].type,label:te[e.status].label}),t||(t=(0,c.Z)(G.D,{className:"c-enterprise-ar__report-issues",model:a}))):(0,c.Z)(q.Z,{type:te[e.status].type,label:te[e.status].label}):(0,c.Z)(q.Z,{type:"informative",label:"unavailable",rightIcon:{classname:"fa-regular fa-question-circle",message:"Model is not compatible with ".concat(ee[e.type].label," feature or conversion has not started yet"),messagePosition:"up"}}))),$||($=(0,c.Z)("div",{className:"c-side-settings__separator"})))})))),(0,c.Z)("div",{className:"c-enterprise-ar__tips"},void 0,(0,c.Z)("p",{},void 0,s),W||(W=(0,c.Z)("p",{},void 0,"Changing 3D settings will re-run conversion.")),(0,c.Z)("p",{},void 0,(0,c.Z)("a",{href:l,target:"_blank",className:"skfb-link",rel:"noopener noreferrer"},void 0,"Learn more here"),"."))):null)};var ie,re=n("tPF1"),se=n("vkRz"),le=n("gyKT"),ce=n("UQ3Q");function de(e){var t=e.model,n=e.hasChanged,o=(0,se.Z)(t),a=(0,g.$y)(t)&&"FAILED"!==t.status.processing,i=(0,ce.I)(t),r=i.canTransfer,s=i.openModelTransferPopup;return(0,c.Z)(p.Fragment,{},void 0,(0,c.Z)(y.Z,{disabled:a,size:"large",type:"primary",text:"Edit 3D settings",href:t.editorUrl}),(0,c.Z)("div",{className:"c-model-properties__buttons c-model-properties__edit-buttons"},void 0,(0,c.Z)(le.Z,{model:t},void 0,(function(e){var t=e.canDuplicate,n=e.duplicate;return(0,c.Z)(y.Z,{htmlType:"button",disabled:!t||a,onClick:n,size:"large",type:"primary-inverted-border",text:t?"Duplicate":"Duplicate (Pro)",iconClassName:"fa-regular fa-copy"})})),(0,c.Z)("div",{className:"help"},void 0,(0,c.Z)(y.Z,{htmlType:"button",disabled:a||n,size:"large",type:"primary-inverted-border",text:"Reupload",iconClassName:"fa-regular fa-arrow-up-from-bracket",onClick:o,"data-selenium":"open-reupload-popup"}),n?ie||(ie=(0,c.Z)("div",{className:"tooltip tooltip-down"},void 0,"You have unsaved changes, please save them before reuploading a model")):null),r?(0,c.Z)(y.Z,{htmlType:"button",disabled:a||n,size:"large",type:"primary-inverted-border",text:"Transfer",onClick:s,iconClassName:"fa-regular fa-exchange","data-selenium":"open-transfer-popup"}):null))}var ue=n("JGf+"),pe=n("+gdw");const me=function(e,t){var n=(0,m.I0)(),o=t.extraFile?t.extraFile.status:"",a=["processing","pending"].includes(o),i=p.useCallback((function(){return n(f.Nw.models.pollExtraFileProcessingStatus(e.uid))}),[n,e.uid]);return p.useEffect((function(){if(a){var e=i();return function(){return e.cancel()}}}),[a,i]),[a,i]};var ve,fe,ge,Ze=n("sQZY"),he=n("d94b"),be=function(e){var t=e.disableInfo,n=e.sellerStatus,o=e.modelIsPrivate;return(0,c.Z)(p.Fragment,{},void 0,ve||(ve=(0,c.Z)("p",{},void 0,(0,c.Z)("strong",{},void 0,"This model has been disabled because it uses features not supported by your current plan:"))),(0,c.Z)("ul",{className:"--disc"},void 0,t.detail.map((function(e,t){return(0,c.Z)("li",{},t,e)}))),(0,c.Z)("p",{},void 0," ","Upgrade to ",(0,c.Z)("strong",{},void 0,(0,he.Z)((0,w.w8)(t.requiredPlan)))," to reactivate this model."),(0,c.Z)("a",{className:"button btn-medium btn-plan-".concat(t.requiredPlan),target:"_blank",rel:"noreferrer noopener",href:"https://sketchfab.com/plans?ref=model-management"},void 0,"Upgrade to ",(0,he.Z)((0,w.w8)(t.requiredPlan))),!o&&(0,c.Z)("p",{},void 0,"You can also reactivate your model by removing paid features","confirmed"===n?", adding it to the Store,":""," or making it downloadable."))},we=function(){return fe||(fe=(0,c.Z)(p.Fragment,{},void 0,(0,c.Z)("p",{},void 0,(0,c.Z)("strong",{},void 0,"This model has been disabled by Sketchfab staff. Please check your email or visit ",(0,c.Z)("a",{className:"skfb-link",target:"_blank",rel:"noreferrer noopener",href:"https://support.fab.com/s/article/Disabled-Models"},void 0,"the help center")," for more details."))))};function ye(e){return(0,c.Z)("div",{className:"disable-section"},void 0,(0,c.Z)("div",{className:"disable-section__content"},void 0,(0,c.Z)(Q.Z,{center:!0,type:"error"},void 0,"disabled_by_staff"===e.disableInfo.type?ge||(ge=(0,c.Z)(we,{})):"wrong_plan"===e.disableInfo.type?p.createElement(be,(0,o.Z)({},e,{disableInfo:e.disableInfo})):null)))}var _e,Ne,ke,De,Ce,xe,Pe,Oe=n("hK4n"),Ae=n("l9Gv"),Se=n("LH8s"),Te=n("WA+4"),Ee=function(e){var t=e.form,n=e.model,o=e.management,a=e.licenses,i=(0,Ze.Z)(n,o),r=i.processingType,s=i.reprocess,d=me(n,o),u=(0,l.Z)(d,1)[0],p=a.filter((function(e){return e.free})),m=a.filter((function(e){return!e.free}));return o?(0,c.Z)(pe.Z,{form:t,model:n,management:o,freeLicenses:p,paidLicenses:m,processingType:r,isExtraFileProcessing:u,reprocess:s,onChangeDownloadType:function(e){var a=(0,ue.Z)(p)||{uid:""},i=(0,ue.Z)(m)||{uid:""},r=m.find((function(e){return"ed"===e.slug}))||{uid:""};t.onFieldsChange({downloadType:e,price:n.price?(0,_.Ql)(n.price):_.we,freeLicense:n.license&&n.license.free?n.license.uid:a.uid,paidLicense:n.license&&!n.license.free?n.license.uid:n.isStoreLicenseLocked?r.uid:i.uid,extraFile:o.extraFile,isInspectable:"no"!==e||n.isInspectable})}}):null};function Le(e){var t,n=e.form,i=e.model,r=e.management,s=e.licenses,l=p.useRef(null),d=(0,m.v9)(f.wl.authUser.canAccessFeature("ff_promotional_content"));return(0,c.Z)("div",{className:"c-side-settings"},void 0,(0,Te.w)(i,"org")?i.isUploading?null:"org"!==i.visibility?(0,c.Z)("div",{className:"c-side-settings__flex"},void 0,(0,c.Z)(y.Z,{size:"small",type:"primary-inverted-border",text:"view as team",onClick:function(){return v.Z.pushRoute.apply(v.Z,(0,a.Z)((0,g.IL)(i)))},"data-selenium":"see-model"}),(0,c.Z)(y.Z,{size:"small",type:"primary",text:"view as ".concat(i.visibility),href:i.viewerUrl,"data-selenium":"see-model"})):(0,c.Z)(y.Z,{size:"small",type:"primary",text:"view model",href:i.viewerUrl,"data-selenium":"see-model"}):(0,c.Z)(p.Fragment,{},void 0,(0,c.Z)("div",{className:"c-side-settings__flex"},void 0,(0,c.Z)("div",{className:"c-side-settings__status"},void 0,"Status:"," ",(0,c.Z)("strong",{},void 0,i.isUploading?"Uploading":i.isPublished?"Published":"Draft"," ")),i.isUploading?null:(0,c.Z)(y.Z,{size:"small",type:"primary",text:"view my model",href:i.viewerUrl,"data-selenium":"see-model"})),i.isUploading||i.isPublished?null:(0,c.Z)(Ae.Z,{},void 0,(function(){return t||(t=(0,c.Z)(Se.Z,{model:i}))}))),_e||(_e=(0,c.Z)("div",{className:"c-side-settings__separator"})),p.createElement(k.Z,(0,o.Z)({},n.fields.visibility,{label:"Who can see?",labelClassName:"c-model-properties__label",isTouched:!0}),(0,c.Z)(Oe.Z,{models:[i],form:n,onVisibilityPopupClose:function(){var e;null===(e=l.current)||void 0===e||e.focus()}})),"protected"===n.fields.visibility.value?p.createElement(k.Z,(0,o.Z)({},n.fields.password,{label:"Password"}),p.createElement(D.Z,(0,o.Z)({},n.fields.password,{placeholder:"******",border:!0,type:"password",ref:l}))):null,(0,c.Z)("div",{className:"c-side-settings__visibility-info-link"},void 0,(0,c.Z)("a",{className:"skfb-link",href:"".concat(F.Z.hosts.faq,"/s/article/Model-Visibility-Privacy"),target:"_blank",rel:"noopener noreferrer"},void 0,"Learn about visibility settings"," ",Ne||(Ne=(0,c.Z)("i",{className:"help fa-regular fa-question-circle"})))),"org"!==n.data.visibility?(0,c.Z)("div",{className:"c-side-settings__flex"},void 0,(0,c.Z)("div",{className:"c-model-properties__label"},void 0,i.org?"Allow external comments":"Allow comments"," ",(0,c.Z)(X.Z,{href:"".concat(F.Z.hosts.faq,"/s/article/How-to-disallow-model-comments"),message:i.org?"Allow comments from people outside this organization on the external model page. Comments from organization members will always be allowed on the internal model page.":"Allow comments on this model"})),p.createElement(V.Z,(0,o.Z)({},n.fields.hasCommentsDisabled,{checked:!n.fields.hasCommentsDisabled.value}))):null,(0,c.Z)("div",{className:"c-side-settings__flex"},void 0,(0,c.Z)("div",{className:"c-model-properties__label"},void 0,"Allow texture inspection"," ",(0,c.Z)(X.Z,{href:"".concat(F.Z.hosts.faq,"/s/article/Model-Inspector"),message:"Allow people to inspect unwrapped textures in Model Inspector"})),p.createElement(V.Z,(0,o.Z)({"data-selenium":"inspectable-checkbox"},n.fields.isInspectable))),n.fields.isInspectable.hasError?(0,c.Z)("p",{className:"form-error"},void 0,n.fields.isInspectable.error):null,(0,c.Z)("div",{className:"c-side-settings__flex"},void 0,(0,c.Z)("div",{className:"c-model-properties__label"},void 0,"Age-restricted content"," ",(0,c.Z)(X.Z,{href:"".concat(F.Z.hosts.faq,"/s/article/What-is-Restricted-Content"),message:ke||(ke=(0,c.Z)(p.Fragment,{},void 0,"Content that is not appropriate for all audiences, like nudity or suggestive content.",(0,c.Z)("br",{}),"Click for content guidelines"))})),p.createElement(V.Z,(0,o.Z)({"data-selenium":"restricted-checkbox"},n.fields.isRestricted))),d&&(0,c.Z)("div",{className:"c-side-settings__flex"},void 0,De||(De=(0,c.Z)("div",{className:"c-model-properties__label"},void 0,"Promotional content"," ",(0,c.Z)(X.Z,{message:"Enable this if your model contains promotional content. We will notify users that your model contains promotional content. Promotional content may include, for example, product placement, logos, slogans, or other content that promotes or advertises your own or someone else’s real-world brand."}))),p.createElement(V.Z,(0,o.Z)({},n.fields.hasPromotionalContent,{checked:n.fields.hasPromotionalContent.value}))),Ce||(Ce=(0,c.Z)("div",{className:"c-side-settings__separator"})),r&&!i.isUploading&&i.isDisabled?(0,c.Z)(p.Fragment,{},void 0,(0,c.Z)(ye,{sellerStatus:r.sellerStatus,modelIsPrivate:(0,g.hv)(i.visibility),disableInfo:r.disableInfo}),xe||(xe=(0,c.Z)("div",{className:"c-side-settings__separator"}))):null,"org"===n.data.visibility||i.isUploading||i.isDisabled&&(0,g.hv)(i.visibility)||!r?null:(0,c.Z)(p.Fragment,{},void 0,Pe||(Pe=(0,c.Z)("div",{className:"c-model-properties__label"},void 0,"Download")),(0,c.Z)(Ee,{form:n,model:i,management:r,licenses:s})))}var Fe,je,Ue,Me,Ie,Re,ze=n("ZqtO"),Ke=n("1xsz"),qe=n("UnUI"),Ve=n("wExz");const Qe=function(e){var t=e.fileField,n=e.allowed,o=e.downloadTips,a=e.hasChanged,i=e.error,r=e.isUploading,s=["application/zip","application/x-7z-compressed","application/x-rar-compressed"].join(","),l=function(){var e;null===(e=document.getElementById("upfile"))||void 0===e||e.click()};return(0,c.Z)("span",{},void 0,(0,c.Z)("div",{className:ze.Z["c-extrafile"]},void 0,(0,c.Z)("span",{className:ze.Z.title},void 0,"Attach additional file",(0,c.Z)(X.Z,{message:'Additional File can only contain 3D files or other files that pertain to the 3D file itself, such as additional hi-res texture maps, additional file formats, model resolutions, "Read Me" documents, etc.',className:ze.Z.help}),(0,c.Z)("span",{className:ze.Z.subtitle},void 0,"Accepted formats: ",[".zip",".rar",".7z"].join(", ")),(0,c.Z)("span",{className:ze.Z.subtitle},void 0,"Max size: ",(0,j.$B)(F.Z.maxExtraArchiveSize)),n?(0,c.Z)(y.Z,{className:ze.Z.browse,onClick:l,text:"Upload file",size:"small",disabled:!n,icon:Fe||(Fe=(0,c.Z)("i",{title:"remove",className:"fa-regular fa-paperclip"}))}):(0,c.Z)("div",{className:ze.Z.upgrade},void 0,je||(je=(0,c.Z)(Ke.Z,{tooltipText:"Upgrade your plan to Pro or Enterprise to attach an extra archive.",referer:"embed_popup"})))),(0,c.Z)("input",{className:ze.Z["input-file"],accept:s,id:"upfile",type:"file",onChange:function(e){var n=e.target.files[0];t.onChange&&t.onChange(n)}}),t.value&&t.value.name?(0,c.Z)("div",{className:ze.Z["file-box"]},void 0,(0,c.Z)("div",{className:ze.Z.file},void 0,i?(0,c.Z)(X.Z,{message:i,className:(0,Z.AK)(ze.Z.statusIcon,ze.Z["--error"])}):(0,c.Z)("span",{className:ze.Z.statusIcon},void 0,r?Ue||(Ue=(0,c.Z)(Ve.Z,{})):a?Me||(Me=(0,c.Z)("i",{className:"fa-regular fa-arrow-up-from-bracket"})):Ie||(Ie=(0,c.Z)("i",{className:"fa-regular fa-check"}))),(0,c.Z)("div",{className:ze.Z["file-content"]},void 0,(0,c.Z)("div",{},void 0,t.value.name),(0,c.Z)("div",{className:ze.Z["file-size"]},void 0,(0,j.$B)(t.value.size))),(0,c.Z)("span",{className:ze.Z.actions},void 0,(0,c.Z)(qe.Z,{hideArrow:!0,menuAlign:"right",labelTitle:(0,c.Z)("i",{className:(0,Z.AK)("fa-regular fa-ellipsis-v",ze.Z.ellipsis)})},void 0,(function(){return(0,c.Z)("ul",{},void 0,n?(0,c.Z)("li",{onClick:l},void 0,(0,c.Z)("i",{className:(0,Z.AK)("fa-regular fa-arrow-up-from-bracket",ze.Z["action-icon"])})," ","Change file"):null,(0,c.Z)("li",{onClick:function(){return t.onChange(null)}},void 0,(0,c.Z)("i",{className:(0,Z.AK)("fa-regular fa-trash-can",ze.Z["action-icon"])})," ","Delete"))}))))):null,o?(0,c.Z)("div",{className:ze.Z.tips},void 0,Re||(Re=(0,c.Z)("p",{},void 0,"Change the model download setting to ",(0,c.Z)("u",{},void 0,"Free")," or ",(0,c.Z)("u",{},void 0,"Store")," to view the additional file."))):null))};var He=n("NDtu"),Be=["uploading","pending","processing","ready"],Ye=function(e,t){return Be.indexOf(t)>Be.indexOf(e)};function $e(e){var t=e.step,n=e.isPublished;return(0,c.Z)("div",{className:"c-upload-status"},void 0,(0,c.Z)("div",{className:(0,Z.AK)("c-upload-status__row",{"--green":Ye("uploading",t)})},void 0,(0,c.Z)("div",{className:"c-upload-status__dot"},void 0,Ye("uploading",t)?"✓":"1"),(0,c.Z)("span",{className:"c-upload-status__step-title"},void 0,"uploading"===t?"uploading":"upload"),(0,c.Z)("span",{className:"c-upload-status__step-status"},void 0,Ye("uploading",t)?"Finished":"")),(0,c.Z)("div",{className:(0,Z.AK)("c-upload-status__row",{"--green":Ye("processing",t),"--grey":!Ye("uploading",t)})},void 0,(0,c.Z)("div",{className:"c-upload-status__dot"},void 0,Ye("processing",t)?"✓":"2"),(0,c.Z)("span",{className:"c-upload-status__step-title"},void 0,Ye("uploading",t)&&Ye("pending",t)?Ye("processing",t)?"processed":"processing":"Waiting to start"),(0,c.Z)("span",{className:"c-upload-status__step-status"},void 0,Ye("processing",t)?"Finished":"processing"===t?"Our 3d elves are working hard…":"")),(0,c.Z)("div",{className:(0,Z.AK)("c-upload-status__row",{"--green":"ready"===t,"--grey":"ready"!==t})},void 0,(0,c.Z)("div",{className:"c-upload-status__dot"},void 0,"ready"===t?"✓":"3"),(0,c.Z)("span",{className:"c-upload-status__step-title"},void 0,n?"Published":"Ready to publish")))}var We,Ge=n("RyS8"),Xe=n("ULsr"),Je=n("Oyie"),et=n("m2W1");const tt=function(e){var t=e.isSaveOnly;return(0,c.Z)("div",{className:(0,Z.AK)("c-side-settings",et.Z.container)},void 0,(0,c.Z)("div",{className:"c-side-settings__flex"},void 0,(0,c.Z)("div",{className:et.Z.dataHandlerWarning},void 0,(0,c.Z)("p",{},void 0,We||(We=(0,c.Z)("i",{className:"fa-regular fa-info-circle"})),(0,c.Z)("b",{},void 0,t?"Save":"Save & Publish")," will update this model’s properties and make it visible to anyone with access to this page."),(0,c.Z)("p",{className:et.Z.details},void 0,"The model title, description, and tags can be read by anyone who visits this page. Do not include sensitive data like IDs, credentials, or non-public information."))))};var nt,ot,at,it,rt,st,lt,ct,dt=n("UhZI"),ut=["name","downloadType","price","visibility","password","paidLicense","freeLicense","orgProject"];function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vt=(0,O.Z)(re.l),ft={autostart:"0",ui_inspector:"0"};function gt(e){var t=!e.isUploading&&(0,g.Eu)(e),n=!e.isUploading&&(0,g.pe)(e);return e.isUploading?"uploading":n?"pending":t?"processing":"ready"}var Zt=function(){return nt||(nt=(0,c.Z)(p.Fragment,{},void 0,"NoAI tagging"," ",(0,c.Z)("a",{href:"https://creativecommons.org/faq/#what-if-i-have-received-cc-licensed-material-with-additional-restrictions",target:"_blank",rel:"nofollow noopener noreferrer",className:"skfb-link"},void 0,"may not be compatible with CC licenses.")," ","In order to save changes, you must either remove the NoAI tag or change this model's license type."))};const ht=vt((function(e){var t,r=e.model,d=e.authUser,O=e.management,S=e.form,F=e.onCancelUpload,j=(0,T.Z)((function(e){return e.Api.getLicenses().then((function(e){return e.results}))}),[],[]),M=(0,l.Z)(j,1)[0];!function(e){var t=(0,A.Z)().History;p.useEffect((function(){if(e)return t.enableConfirmNavigation(),function(){t.disableConfirmNavigation()}}),[e,t])}(S.hasChanged);var I=(0,m.v9)(f.wl.authUser.canAccessFeature("ff_data_handling")),z=p.useRef(null),q=p.useRef(null),V=(0,m.I0)(),Q=p.useState("save"),H=(0,l.Z)(Q,2),B=H[0],Y=H[1],$=(0,T.Z)((function(e){return e.Api.getCategories().then((function(e){return e.results.map((function(e){return{value:e.uid,title:e.name}}))}))}),[],[]),W=(0,l.Z)($,1)[0],ee=p.useState(r.isUploading),te=(0,l.Z)(ee,2),ne=te[0],oe=te[1];p.useEffect((function(){ne||oe(r.isUploading)}),[r,ne]);var ie=function(e,t,o){var a=(0,m.I0)(),i=(0,A.Z)().Popups,r=p.useCallback((function(n){return(0,_.as)(o?o.extraFile:null,e.fields.extraFile.value)?e.fields.extraFile.value instanceof File?a(f.Nw.models.updateExtraFile(t,e.fields.extraFile.value)).then((function(){return a(f.Nw.models.pollExtraFileProcessingStatus(t))})):a(f.Nw.models.removeExtraFile(t)):Je.resolve(void 0)}),[a,e.fields.extraFile.value,o,t]),s=p.useCallback((function(e){return a(f.Nw.models.update(t,e)).then((function(){e.license&&a(f.Nw.models.pollVersions(t))}))}),[a,t]),l=p.useCallback((function(t){if(console.error("submit error:",t),t instanceof Ge.p9);else if(o&&(a=t)&&a.detail&&a.detail.extraFile&&a.detail.extraFile.some((function(e){return e.match("file size is too big")})))Je.all([n.e(2852),n.e(4923)]).then(n.bind(n,"6Bjy")).then((function(t){new(0,t.default)({fileSize:e.fields.extraFile.value?e.fields.extraFile.value.size:0}).open(),e.fields.extraFile.onChange(o.extraFile)}));else{if((0,Ge.Oe)(t))return Je.reject(t);i.loadMessagePopup().then((function(e){return new e({title:"Error while saving settings",html:'\n                    An unexpected error occured while saving settings.\n                    <br>\n                    If the error persists, please contact our <a class="skfb-link" target="_blank" href="https://support.fab.com/s/?ProductOrigin=Sketchfab">Support Team</a>.\n                ',renderButtons:function(e){return[{viewClass:(0,Xe.Z)(y.Z),options:{key:"ok",type:"tertiary",text:"Ok",onClick:function(){return e.continue()}}}]}}).open()}))}var a;return Je.reject({})}),[e.fields.extraFile,o]);return{extraFileUpload:(0,m.v9)((function(e){return f.wl.models.extraFileUpload(t,e)})),onUpdateArchive:r,onUpdateModel:s,onSaveError:l}}(S,r.isUploading?"nouid":r.uid,O),se=ie.extraFileUpload,le=ie.onUpdateArchive,ce=ie.onUpdateModel,ue=ie.onSaveError,pe=(0,Z.aj)("breakpointXSmall");p.useLayoutEffect((function(){var e=z.current,t=q.current;if(!pe&&e&&q){var n=new window.IntersectionObserver((function(t){if(e&&e.classList){var n,o=null==t||null===(n=t[0])||void 0===n?void 0:n.isIntersecting;e.classList.toggle("--sticky",!o)}}));return t&&setTimeout((function(){return n.observe(t)})),function(){return n.disconnect()}}e&&e.classList.add("--sticky")}),[z,q,pe]);var me=p.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.shouldPublish,n=void 0!==t&&t;if(!r.isUploading){var o=function(e){var t=e.name,n=e.downloadType,o=e.price,a=e.visibility,i=e.password,r=e.paidLicense,l=e.freeLicense,c=e.orgProject;return mt(mt({},(0,s.Z)(e,ut)),{},{orgProject:null==c?void 0:c.uid,name:(0,b.sanitize)(t),downloadType:n,price:"store"===n?(0,_.H5)(o):null,password:"protected"===a&&i!==re.R?i:void 0,visibility:a,license:"store"===n?r:"free"===n?l:null})};S.onSubmit(function(){var e=(0,i.Z)(u().mark((function e(t){var i,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n){e.next=6;break}return e.next=4,V(f.Nw.models.tryPublish(r.uid,o(t))).then((function(e){e.caseOf({Left:function(e){throw e},Right:function(){}})}));case 4:e.next=10;break;case 6:return i=o(t),e.next=9,ce(i);case 9:i.name!==r.name&&(s=(0,g.nR)({slug:(0,b.slugify)(i.name),uid:r.uid,org:r.org},{silent:!0}),v.Z.replaceRoute.apply(v.Z,(0,a.Z)(s)));case 10:return e.next=12,le(t);case 12:e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(0),ue(e.t0),e.t0;case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}())}}),[r,V,S,le,ce,ue]),ve=r.org?r.org.uid:"",fe=(0,m.v9)(f.wl.authUser.getOrgRole(ve)),ge=d.account&&(0,w.Di)(d.account,"pro")||"store"===S.data.downloadType||!!r.org||d.isStaff,Ze=d.isStaff||fe.caseOf({Some:function(e){return(0,h.oF)(e,"project_lead")},None:function(){return!1}});if(d.isAnonymous)return null;var he,be=M.filter((function(e){return e.isCc})),we="no"!==S.data.downloadType&&("archives_broken"===(null==O?void 0:O.downloadStatus)||"source_blocked"===(null==O?void 0:O.downloadStatus)),ye=be.some((function(e){return e.uid===S.fields.freeLicense.value}))&&"free"===S.fields.downloadType.value,_e=S.fields.tags.value.includes("noai")&&ye,Ne=r.isUploading||S.hasErrors||!S.hasChanged||we||_e,ke=(0,g.qS)(r,mt(mt({},r),{},{visibility:S.data.visibility,price:void 0,license:void 0,downloadType:S.data.downloadType,isPublished:!0}),d),De=!r.isUploading&&ke,Ce=!r.isUploading&&(0,g.$y)(r),xe=r.isUploading||we||!De||"wrong_plan"===(null==O?void 0:O.disableInfo.type)&&!(0,g.Ov)(O.disableInfo.requiredPlan,r)||(0,g.hv)(S.data.visibility)&&!(0,g.Ov)("pro",r),Pe="publish"===B&&(S.isSubmitting||S.hasSucceeded),Oe="save"===B&&(S.isSubmitting||S.hasSucceeded),Ae="org"===S.data.visibility||r.isUploading||r.isPublished&&!Pe,Se=!r.isUploading&&"FAILED"===r.status.processing,Te=(0,g.Ov)("pro",r);return(0,c.Z)("form",{className:"c-model-properties","data-selenium":"properties-form"},void 0,(0,c.Z)("div",{className:"c-model-properties__container g-container"},void 0,(0,c.Z)("div",{className:"c-model-properties__side --left"},void 0,(0,c.Z)("div",{className:"c-model-properties__viewer-container"},void 0,Se&&!r.isUploading?(0,c.Z)(E.Z,{model:r,type:"small"}):(0,c.Z)(p.Fragment,{},void 0,r.isUploading||Ce?ot||(ot=(0,c.Z)(x.Z,{})):(0,c.Z)(P.Z,{model:r,embedOptions:ft}),ne?(0,c.Z)($e,{isPublished:!r.isUploading&&r.isPublished,step:gt(r)}):null),r.isUploading?null:(0,c.Z)(de,{hasChanged:S.hasChanged,model:r}))),(0,c.Z)("div",{className:"c-model-properties__center"},void 0,p.createElement(k.Z,(0,o.Z)({label:"Title",labelClassName:"c-model-properties__label"},S.fields.name),p.createElement(D.Z,(0,o.Z)({border:!0},S.fields.name,{tabIndex:0,"aria-label":"Title","data-selenium":"model-name-input"}))),p.createElement(k.Z,(0,o.Z)({label:"Description",htmlFor:"description",labelClassName:"c-model-properties__label","data-selenium":"model-description-input"},S.fields.description),p.createElement(C.Z,(0,o.Z)({},S.fields.description,{textAreaProps:{id:"description"},label:"Markdown Description"}))),r.org&&r.orgProject?p.createElement(k.Z,(0,o.Z)({label:"Location",labelClassName:"c-model-properties__label","data-selenium":"model-project-dropdown"},S.fields.orgProject),p.createElement(L.Z,(0,o.Z)({},S.fields.orgProject,{disabled:!Ze,className:"c-model-properties__folder-dropdown",orgUid:r.org.uid,onChange:function(e){return S.fields.orgProject.onChange(e)}}))):null,"org"!==S.data.visibility?p.createElement(k.Z,(0,o.Z)({label:"Categories",labelClassName:"c-model-properties__label"},S.fields.categories),p.createElement(N.Z,(0,o.Z)({},S.fields.categories,{theme:"white-background",className:"c-model-properties__categories-dropdown",placeholder:"Select up to 2 categories",options:W,maxSelectedCount:2,"data-selenium":"model-categories-select"}))):null,p.createElement(k.Z,(0,o.Z)({labelClassName:"c-model-properties__label",label:(0,c.Z)(p.Fragment,{},void 0,at||(at=(0,c.Z)("span",{},void 0,"Tags")),!r.org||"public"!==r.visibility&&"public"!==S.fields.visibility.value?void 0:it||(it=(0,c.Z)(X.Z,{message:"Tags on organization models are only visible to members of your organization with permission to view the model. They are not visible outside your organization."})))},S.fields.tags,{isTouched:_e||S.fields.tags.isTouched,error:S.fields.tags.error?S.fields.tags.error:_e?rt||(rt=(0,c.Z)(Zt,{})):""}),p.createElement(He.Z,(0,o.Z)({},S.fields.tags,{orgUid:null==r||null===(t=r.org)||void 0===t?void 0:t.uid,"data-selenium":"model-tags-input"})),!_e&&r.user.isAiRestricted&&ye?st||(st=(0,c.Z)(dt.F,{className:"c-model-properties__no-ai-tip"})):null),"public"===S.data.visibility?(0,c.Z)(U,{form:S.data}):null),(0,c.Z)("div",{className:"c-model-properties__side"},void 0,(0,c.Z)(Le,{management:O,model:r,form:S,licenses:M}),!r.isUploading&&O&&(0,g.Ov)("prem",r)?(0,c.Z)(ae,{form:S,management:O,model:r}):null,(0,c.Z)(Qe,{fileField:S.fields.extraFile,allowed:ge,downloadTips:"no"===S.data.downloadType&&!r.org,error:S.errors.extraFile,hasChanged:(0,_.as)(O?O.extraFile:null,S.fields.extraFile.value),isUploading:"uploading"===se.type}),(0,c.Z)("div",{className:"c-model-properties__own-download"},void 0,r.isUploading||!O||"source_blocked"===O.downloadStatus?null:Te?(0,c.Z)(R.U,{archives:O.archivesDetails,model:r}):lt||(lt=(0,c.Z)(K,{}))),I&&(0,c.Z)(tt,{isSaveOnly:Ae}))),p.createElement("div",{className:"c-model-properties__footer",ref:z},(0,c.Z)("div",{className:"g-container"},void 0,r.isUploading?null:(0,c.Z)(G.m,{className:"c-model-properties__links",authUser:d,model:r}),(0,c.Z)("div",{className:"c-model-properties__buttons c-model-properties__footer-right"},void 0,r.isUploading&&F?(0,c.Z)(y.Z,{size:"large",type:"tertiary",text:"Cancel",onClick:F}):null,(he=Oe?(0,J.F)("Save","saved","saving...",S,se):{text:"Save",disabled:!1},(0,c.Z)("div",{className:"c-model-properties__actions"},void 0,(0,c.Z)("span",{className:"help"},void 0,p.createElement(y.Z,(0,o.Z)({},he,{type:Ae?"important":"primary",size:"large","data-selenium":"save-button",onClick:function(){Y("save"),me()},disabled:he.disabled||Ne,htmlType:"submit"})),S.hasSucceeded?null:(0,c.Z)("div",{className:"tooltip tooltip-up"},void 0,S.hasChanged?S.hasErrors?Object.values(S.errors).filter(Boolean).join(".\n"):_e?ct||(ct=(0,c.Z)(Zt,{})):Ne?"You can not save these changes to your model":"Save changes to your model":"There were no changes to the model")))),Ae?null:function(){var e=(0,g.hv)(S.data.visibility)?"".concat(S.hasChanged?"Save & ":"","Publish privately"):"".concat(S.hasChanged?"Save & ":"","Publish"),t=Pe?(0,J.F)(e,"Published","Publishing...",S,se):{disabled:!1,text:e};return(0,c.Z)("span",{className:"help"},void 0,p.createElement(y.Z,(0,o.Z)({},t,{"data-selenium":"publish",type:"important",size:"large",disabled:t.disabled||Ce||S.hasChanged&&Ne||xe,onClick:function(){Y("publish"),me({shouldPublish:!0})}})),(0,c.Z)("div",{className:"tooltip tooltip-up"},void 0,r.isPublished?"Your model was successfully published":Ce?"You won't be able to publish this model until the processing has finished":r.isUploading?"Please wait until the model has finished uploading.":S.hasErrors?Object.values(S.errors).filter(Boolean).join(".\n"):we?"There was an issue processing your model. Please reprocess your model.":ke?"wrong_plan"===(null==O?void 0:O.disableInfo.type)?"This model is disabled because it uses features not supported by your current plan.":(0,g.hv)(S.data.visibility)&&!(0,g.Ov)("pro",r)?"You need at least a pro account to publish private models.":"protected"===S.data.visibility?"Only people with password and link will have access. No notifications will be sent.":"private"===S.data.visibility?"Only people with link will have access. No notifications will be sent.":r.org&&"org"===S.data.visibility?"Everyone in this project will have access.":"Everyone will have access. Followers will be notified.":"You need a credit to publish this model."))}()))),p.createElement("div",{className:"c-model-properties__sentinel",ref:q}))}))},c2Jd:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var o,a=n("sQwH"),i=n("3Z9q"),r=n("mSEu");const s=function(e){var t=e.model,n=e.type,s=void 0===n?"regular":n,l={10:"We do not support this file format",11:"We do not recognize this file format",13:"We could not read the model file, or there is no data to display",20:"Something went wrong while reading the file",21:"Something went wrong while processing textures",31:"Something went wrong while processing materials",33:"Something went wrong while processing materials",50:"This model file is too complex (too many polygons, meshes, or textures)"},c="".concat(r.Z.hosts.faq,"/s/article/Understanding-Error-Codes"),d="".concat(r.Z.hosts.faq,"/s/?ProductOrigin=Sketchfab");return(0,a.Z)("div",{className:"c-model-error"},void 0,(0,a.Z)("div",{className:"c-model-error__content"},void 0,(0,a.Z)("div",{className:"c-model-error__info"},void 0,"small"===s?(0,a.Z)("div",{className:"c-model-error__info-type"},void 0,"Error".concat(t.status.code?" "+t.status.code:"",": "),t.status.code&&l[t.status.code]?l[t.status.code]:"Something went wrong"):(0,a.Z)(i.Fragment,{},void 0,o||(o=(0,a.Z)("h2",{className:"c-model-error__info-title"},void 0,"Processing Failed")),(0,a.Z)("div",{className:"c-model-error__info-type"},void 0,"Error".concat(t.status.code?" "+t.status.code:"",": "),t.status.code&&l[t.status.code]?l[t.status.code]:"Something went wrong"),(0,a.Z)("div",{className:"c-model-error__info-help"},void 0,(0,a.Z)("a",{className:"button btn-primary btn-small",href:"".concat(c),target:"_blank",rel:"noopener noreferrer"},void 0,"learn more"),(0,a.Z)("a",{className:"button btn-contact btn-small",href:"".concat(d),target:"_blank",rel:"noopener noreferrer"},void 0,"contact us"))))))}},cANE:(e,t,n)=>{n("nclc"),(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["front/popups/missing-webgl.jinja"]={b_popup_content:function(e,t,n,o,a){var i="";try{n=n.push(!0),a(null,i+='\n\n    Sorry, your browser is not compatible with the 3D settings editor. <br>\n    Please use a WebGL-enabled browser to edit your 3D settings. <br>\n    See the <a href="https://support.fab.com/s/article/Compatibility" target="_blank" rel="noopener noreferrer">Help Center</a> for more information.\n\n')}catch(e){a(o.handleError(e,null,null))}},b_popup_footer:function(e,t,n,o,a){var i="";try{n=n.push(!0),i+='\n    <div class="actions">\n\n    <button class="button btn-medium btn-primary submit" type="submit">',i+=o.suppressValue(e.getFilter("default").call(t,o.memberLookup(o.contextOrFrameLookup(t,n,"buttons"),"okLabel"),"OK"),e.opts.autoescape),a(null,i+="</button>\n\n    </div>\n")}catch(e){a(o.handleError(e,null,null))}},root:function(e,t,n,o,a){var i="";try{var r=null;e.getTemplate("front/layouts/popup.jinja",!0,"front/popups/missing-webgl.jinja",!1,(function(s,l){if(s)a(s);else{for(var c in(r=l).blocks)t.addBlock(c,r.blocks[c]);var d,u;i+="\n\n",d="Compatibility error",n.set("popupTitle",d,!0),n.topLevel&&t.setVariable("popupTitle",d),n.topLevel&&t.addExport("popupTitle",d),i+="\n",u="popup-message",n.set("popupClass",u,!0),n.topLevel&&t.setVariable("popupClass",u),n.topLevel&&t.addExport("popupClass",u),i+="\n\n",(r?function(e,t,n,o,a){a("")}:t.getBlock("popup_content"))(e,t,n,o,(function(s,l){s?a(s):(i+=l,i+="\n\n",(r?function(e,t,n,o,a){a("")}:t.getBlock("popup_footer"))(e,t,n,o,(function(s,l){s?a(s):(i+=l,i+="\n",r?r.rootRenderFunc(e,t,n,o,a):a(null,i))})))}))}}))}catch(e){a(o.handleError(e,null,null))}}}}}]);