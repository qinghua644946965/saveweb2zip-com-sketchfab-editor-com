"use strict";(self.webpackChunksketchfab=self.webpackChunksketchfab||[]).push([[3769],{iqY9:(e,a,t)=>{t.d(a,{Z:()=>u});var n=t("D4hk"),o=t("sGMM"),s=t("3MRe"),i=t("3Z9q"),r=t("vAnt"),l=["size","doesFollow","onToggleFollow"];const u=function(e){var a=e.size,t=e.doesFollow,u=e.onToggleFollow,d=(0,s.Z)(e,l),c=(0,i.useState)(!1),m=(0,o.Z)(c,2),v=m[0],f=m[1];return i.createElement(r.Z,(0,n.Z)({size:a,type:t?"important":"primary",text:t?v?"Unfollow":"Following":"Follow",onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},onClick:u},d))}},jyRc:(e,a,t)=>{t.d(a,{Z:()=>s});var n=t("sQwH"),o=(t("3Z9q"),t("A2i4"));const s=function(e){var a=e.user,t=e.width,s=void 0===t?20:t,i=e.height,r=void 0===i?20:i;return(0,n.Z)("div",{className:"avatar","data-user-summary-anchor":"true","data-user":a.uid},void 0,(0,n.Z)(o.ZP,{alt:"Avatar of ".concat(a.username),images:a.avatars,width:s,height:r}))}},LvQi:(e,a,t)=>{t.d(a,{Z:()=>u});var n=t("sQwH"),o=(t("3Z9q"),t("X40V")),s=t("hDfq"),i=t("iu9k"),r=t("jyRc"),l=t("BNNE");const u=function(e){var a=e.user,t=e.target,u=e.withAvatar,d=void 0!==u&&u,c=e.noLink,m=void 0!==c&&c,v=e.noBadgeLink,f=void 0!==v&&v,p=e.withoutBadge,Z=void 0!==p&&p,w=e.tag,g=void 0!==w&&w,h=e.withSummary,N=void 0===h||h,y=e.by,b=void 0!==y&&y,k=e.className;return(0,n.Z)("div",{className:(0,o.AK)("user-name",k,{"--no-link":m,"--no-badge-link":f})},void 0,(0,n.Z)("a",{href:(0,i.HQ)("users:profile_summary",{username:a.username}),onClick:function(e){return e.stopPropagation()},target:t,className:"user-name__link"},void 0,d&&(0,n.Z)("span",{},void 0,(0,n.Z)(l.Z,{uid:a.uid,disabled:!N},void 0,(0,n.Z)(r.Z,{user:a}))),(0,n.Z)("div",{className:"text"},void 0,b?"by":"",(0,n.Z)("span",{"data-selenium":"username",className:"username-wrapper",itemProp:"name",title:a.displayName},void 0,a.displayName))),Z?null:function(e){return Object.prototype.hasOwnProperty.call(e,"planDetail")&&Boolean(e.planDetail)}(a)&&a.planDetail.badge?(0,n.Z)("a",{className:"user-name__flag",href:"staff"===a.planDetail.badge?"https://www.epicgames.com/site/en-US/careers":"master"===a.planDetail.badge?(0,i.HQ)("pages:masters_landing"):"organization"===a.planDetail.title?(0,i.HQ)("pages:3d_asset_management"):(0,i.HQ)("pages:plans",{},{ref:"plan-badge"}),target:"_blank",rel:"noopener noreferrer","data-testid":"user-badge"},void 0,(0,n.Z)("span",{className:"flag --".concat(a.planDetail.badge)},void 0,a.planDetail.title)):"basic"===a.account?null:(0,n.Z)("a",{className:"user-name__flag",href:(0,i.HQ)("pages:plans",{},{ref:"plan-badge"}),target:"_blank","data-testid":"user-badge"},void 0,(0,n.Z)("span",{className:"flag --".concat(a.account)},void 0,(0,s.w8)(a.account))),g&&(0,n.Z)("span",{className:"user-name__tag"},void 0," (@",a.username,")"))}},lvYc:(e,a,t)=>{t.d(a,{Z:()=>m});var n=t("sQwH"),o=t("Wch8"),s=t("y+4b"),i=t.n(s),r=t("eKF4"),l=t("3Z9q"),u=t("VDcQ"),d=t("+zma"),c=t("pLUK");const m=function(e){var a=e.user,t=e.children,s=(0,u.I0)(),m=(0,u.v9)((function(e){var t=d.wl.entities.user(a.uid,e);return{doesFollow:d.wl.authUser.doesFollow(a.uid,e),hasEntity:!!t}})),v=m.hasEntity,f=m.doesFollow,p=(0,c.Z)((function(){return r.Z.authenticate((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v||s(d.Nw.entities.update({users:[a]})),e.next=3,s(d.Nw.authUser.toggleFollow(a.uid));case 3:case"end":return e.stop()}}),e)}))))})),Z=(0,l.useCallback)((function(){return s(d.Nw.authUser.getDoesFollow(a.uid))}),[s,a.uid]);return(0,l.useEffect)((function(){Z()}),[Z,a.uid]),(0,n.Z)(l.Fragment,{},void 0,t({doesFollow:f,onToggleFollow:p}))}},BNNE:(e,a,t)=>{t.d(a,{Z:()=>k});var n=t("sQwH"),o=t("sGMM"),s=t("3Z9q"),i=t("I0q+"),r=t("N+9a"),l=t("p5Lb"),u=t("1nxQ"),d=t("VDcQ"),c=t("+zma"),m=t("iqY9"),v=t("lvYc"),f=t("6tbf"),p=t("S4Ue"),Z=t("jQKg"),w=t("X40V"),g=t("AnwU"),h=t("iu9k"),N=t("Cgfs"),y=document.body,b=function(e){var a=e.children,t=(0,s.useRef)(document.createElement("div"));return(0,s.useEffect)((function(){var e=t.current;return y.appendChild(e),function(){y.removeChild(e)}}),[]),g.createPortal(a,t.current)};const k=function(e){var a,t,g=e.uid,y=e.children,k=e.followButton,H=void 0===k||k,C=e.disabled,_=(0,d.v9)(c.wl.authUser.user),Q=(0,s.useState)(),F=(0,o.Z)(Q,2),E=F[0],D=F[1],M=(0,s.useState)(!1),U=(0,o.Z)(M,2),z=U[0],L=U[1],S=(0,s.useState)(!1),q=(0,o.Z)(S,2),A=q[0],x=q[1],B=(0,s.useRef)(null),K=function(){var e=B.current;if(e){var a=e.getBoundingClientRect(),t=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),n=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),o="summary-right",s="summary-bottom",i={left:"auto",right:"auto",top:"auto",bottom:"auto"};return a.left+400>t&&(o="summary-left"),a.top+255>n&&(s="summary-top"),i.left="summary-right"===o?a.left+e.offsetWidth/2-23:a.left-400+e.offsetWidth+8,i.top="summary-bottom"===s?a.top+e.offsetHeight+12+window.scrollY:a.top-255-e.offsetHeight/3+window.scrollY,{position:i,class:(0,w.AK)(o,s)}}},P=(0,N.Z)((function(e){C||(x(e),!e||z||E||(L(!0),Z.Z.getUserSummary(g).then((function(e){D(e),L(!1)}))))}),400);return s.createElement("div",{ref:B,onMouseEnter:function(){return P(!0)},onMouseLeave:function(){return P(!1)},onMouseOver:function(){return P(!0)},onMouseOut:function(){return P(!1)}},y,E?(0,n.Z)(b,{},void 0,(0,n.Z)("div",{className:(0,w.AK)(p.Z.profileSummaryContainer,{"--active":A})},void 0,(0,n.Z)("div",{className:(0,w.AK)("user-summary",null===(a=K())||void 0===a?void 0:a.class,p.Z.userSummary),style:null===(t=K())||void 0===t?void 0:t.position},void 0,(0,n.Z)("div",{className:"user"},void 0,(0,n.Z)(r.Z,{className:p.Z.profilePictureLink,"aria-label":"Visit ".concat(E.username," profile"),to:"users:profile_summary",params:{username:E.username}},void 0,(0,n.Z)(i.Z,{alt:"avatar of ".concat(E.username),avatars:E.avatars,size:104})),(0,n.Z)("div",{className:"info"},void 0,(0,n.Z)("p",{className:"name",title:E.displayName},void 0,(0,n.Z)("a",{href:(0,h.HQ)("users:profile_summary",{username:E.username})},void 0,E.displayName)),(0,n.Z)("p",{className:"tagline",title:E.tagline?E.tagline:void 0},void 0,(0,n.Z)("a",{href:"{{ url('users:profile_summary', username=user.username) }}"},void 0,E.tagline)),H&&_.uid!==g?(0,n.Z)("div",{className:"follow-wrapper"},void 0,(0,n.Z)(v.Z,{user:E},void 0,(function(e){return s.createElement(m.Z,e)})),(0,n.Z)("p",{className:"follow-count"},void 0,(0,n.Z)("a",{href:(0,h.HQ)("users:profile_followers",{username:E.username})},void 0,(0,n.Z)("span",{},void 0,(0,l.sH)(E.followerCount))," ","follower",(0,u.pluralize)(E.followerCount)))):null)),(0,n.Z)("div",{className:"models"},void 0,E.thumbnails.map((function(e,a){return a<3?(0,n.Z)("a",{href:e.viewerUrl,style:{width:133}},e.viewerUrl,(0,n.Z)(f.Z,{thumbnails:e.thumbnail})):null}))),(0,n.Z)("div",{className:"stats"},void 0,(0,n.Z)("p",{className:"model-count"},void 0,(0,l.sH)(E.modelCount)," model",(0,u.pluralize)(E.modelCount)),(0,n.Z)("p",{className:"view-count"},void 0,(0,l.sH)(E.stats.viewCount)," view",(0,u.pluralize)(E.stats.viewCount)),(0,n.Z)("p",{className:"like-count"},void 0,(0,l.sH)(E.stats.modelLikeCount)," like",(0,u.pluralize)(E.stats.modelLikeCount)))))):null)}}}]);